<!DOCTYPE html><html><head><meta charset="utf-8"><title>Subir archivos a la red con Laravel y almacenar sus datos en MySQL.md</title><style></style></head><body id="preview">
<h1 class="code-line" data-line-start=0 data-line-end=1><a id="Crea_una_pasarela_de_pagos_con_Laravel_Cashier_y_Stripe_0"></a>Crea una pasarela de pagos con Laravel Cashier y Stripe</h1>
<ul>
<li class="has-line-data" data-line-start="1" data-line-end="2"><strong>URL Curso</strong>: <a href="https://www.udemy.com/course/crea-una-pasarela-de-pagos-con-laravel-cashier-y-stripe">https://www.udemy.com/course/crea-una-pasarela-de-pagos-con-laravel-cashier-y-stripe</a></li>
<li class="has-line-data" data-line-start="2" data-line-end="3"><strong>URL Repositorio del curso</strong>: <a href="https://github.com/coders-free/payment">https://github.com/coders-free/payment</a></li>
<li class="has-line-data" data-line-start="3" data-line-end="4"><strong>URL Repositorio General</strong>: <a href="https://github.com/petrix12/pasarela_pago.git">https://github.com/petrix12/pasarela_pago.git</a></li>
<li class="has-line-data" data-line-start="4" data-line-end="6"><strong>URL del proyecto en producción</strong>: <a href="https://paymet.herokuapp.com">https://paymet.herokuapp.com</a></li>
</ul>
<h2 class="code-line" data-line-start=6 data-line-end=7><a id="Antes_de_iniciar_6"></a>Antes de iniciar:</h2>
<ol>
<li class="has-line-data" data-line-start="7" data-line-end="10">Crear proyecto en la página de <a href="https://github.com">GitHub</a> con el nombre: <strong>pasarela_pago</strong>.
<ul>
<li class="has-line-data" data-line-start="8" data-line-end="9"><strong>Description</strong>: Proyecto para seguir el curso de Crea una pasarela de pagos con Laravel Cashier y Stripe, de Víctor Arana en Udemy</li>
<li class="has-line-data" data-line-start="9" data-line-end="10"><strong>Public</strong>.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="10" data-line-end="18">En la ubicación raíz del proyecto en la terminal de la máquina local:
<ul>
<li class="has-line-data" data-line-start="11" data-line-end="12">$ git init</li>
<li class="has-line-data" data-line-start="12" data-line-end="13">$ git add .</li>
<li class="has-line-data" data-line-start="13" data-line-end="14">$ git commit -m “Commit 00: Antes de iniciar”</li>
<li class="has-line-data" data-line-start="14" data-line-end="15">$ git branch -M main</li>
<li class="has-line-data" data-line-start="15" data-line-end="16">$ git remote add origin <a href="https://github.com/petrix12/pasarela_pago.git">https://github.com/petrix12/pasarela_pago.git</a></li>
<li class="has-line-data" data-line-start="16" data-line-end="18">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=18 data-line-end=19><a id="Seccin_1_Introduccin_18"></a>Sección 1: Introducción</h2>
<h3 class="code-line" data-line-start=20 data-line-end=21><a id="Video_01_Introduccin_20"></a>Video 01. Introducción</h3>
<ul>
<li class="has-line-data" data-line-start="21" data-line-end="22"><strong>Contenido</strong>: Explicación del proyecto a realizar.</li>
<li class="has-line-data" data-line-start="22" data-line-end="23"><strong>URL YouTube</strong>: <a href="https://www.youtube.com/watch?v=NShQvNDuUwU&amp;t=16s">https://www.youtube.com/watch?v=NShQvNDuUwU&amp;t=16s</a></li>
</ul>
<ol>
<li class="has-line-data" data-line-start="23" data-line-end="28">Commit Video 01:
<ul>
<li class="has-line-data" data-line-start="24" data-line-end="25">$ git add .</li>
<li class="has-line-data" data-line-start="25" data-line-end="26">$ git commit -m “Commit 01: Introducción”</li>
<li class="has-line-data" data-line-start="26" data-line-end="28">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=28 data-line-end=29><a id="Video_02_Programas_necesarios_28"></a>Video 02. Programas necesarios</h3>
<ol>
<li class="has-line-data" data-line-start="29" data-line-end="35">Programas requeridos:
<ul>
<li class="has-line-data" data-line-start="30" data-line-end="31"><a href="https://git-scm.com/downloads">Git</a></li>
<li class="has-line-data" data-line-start="31" data-line-end="32"><a href="https://www.apachefriends.org/es/download.html">XAMPP</a></li>
<li class="has-line-data" data-line-start="32" data-line-end="33"><a href="https://getcomposer.org">Composer</a></li>
<li class="has-line-data" data-line-start="33" data-line-end="34"><a href="https://code.visualstudio.com/download">Visual Studio Code</a></li>
<li class="has-line-data" data-line-start="34" data-line-end="35"><a href="https://nodejs.org">Node Js</a></li>
</ul>
</li>
<li class="has-line-data" data-line-start="35" data-line-end="38">Otra opción podría ser Laragon ya que instala todos los programas mencionados anteriormente:
<ul>
<li class="has-line-data" data-line-start="36" data-line-end="38"><a href="https://laragon.org/download/index.html">Laragon</a>
<ul>
<li class="has-line-data" data-line-start="37" data-line-end="38">Laragon Full (64-bit): Apache 2.4, Nginx, MySQL 5.7, PHP 7.4, Redis, Memcached, Node.js 14, npm, git, bitmana…</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="38" data-line-end="40">Instalar el instalador de Laravel:
<ul>
<li class="has-line-data" data-line-start="39" data-line-end="40">$ composer global require laravel/installer</li>
</ul>
</li>
<li class="has-line-data" data-line-start="40" data-line-end="56">Extensiones requeridas en <strong>Visual Studio Code</strong>:
<ul>
<li class="has-line-data" data-line-start="41" data-line-end="44">Laravel Blade Snippets
<ul>
<li class="has-line-data" data-line-start="42" data-line-end="43">Winnie Lin</li>
<li class="has-line-data" data-line-start="43" data-line-end="44">Laravel blade snippets and syntax highlight support</li>
</ul>
</li>
<li class="has-line-data" data-line-start="44" data-line-end="47">Laravel goto view
<ul>
<li class="has-line-data" data-line-start="45" data-line-end="46">codingyu</li>
<li class="has-line-data" data-line-start="46" data-line-end="47">Quick jump to view</li>
</ul>
</li>
<li class="has-line-data" data-line-start="47" data-line-end="50">Laravel Snippets
<ul>
<li class="has-line-data" data-line-start="48" data-line-end="49">Winnie Lin</li>
<li class="has-line-data" data-line-start="49" data-line-end="50">Laravel snippets for Visual Studio Code (Support Laravel 5 and above)</li>
</ul>
</li>
<li class="has-line-data" data-line-start="50" data-line-end="53">PHP Intelephense
<ul>
<li class="has-line-data" data-line-start="51" data-line-end="52">Ben Mewburn</li>
<li class="has-line-data" data-line-start="52" data-line-end="53">PHP code intelligence for Visual Studio Code</li>
</ul>
</li>
<li class="has-line-data" data-line-start="53" data-line-end="56">Tailwind CSS IntelliSense
<ul>
<li class="has-line-data" data-line-start="54" data-line-end="55">Brad Cornes</li>
<li class="has-line-data" data-line-start="55" data-line-end="56">Intelligent Tailwind CSS tooling for VS Code</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="56" data-line-end="67">Aumentar la memoria límite de PHP para evitar errores en la instalación de paquetes:
<ul>
<li class="has-line-data" data-line-start="57" data-line-end="58">Abrir el archivo <strong>C:\xampp\php\php.ini</strong>.</li>
<li class="has-line-data" data-line-start="58" data-line-end="67">Cambiar el valor:
<ul>
<li class="has-line-data" data-line-start="59" data-line-end="63">De:<pre><code class="has-line-data" data-line-start="61" data-line-end="63" class="language-ini"><span class="hljs-setting">memory_limit=<span class="hljs-value"><span class="hljs-number">512</span>M</span></span>
</code></pre>
</li>
<li class="has-line-data" data-line-start="63" data-line-end="67">A:<pre><code class="has-line-data" data-line-start="65" data-line-end="67" class="language-ini"><span class="hljs-setting">memory_limit=<span class="hljs-value">-<span class="hljs-number">1</span></span></span>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="67" data-line-end="72">Commit Video 02:
<ul>
<li class="has-line-data" data-line-start="68" data-line-end="69">$ git add .</li>
<li class="has-line-data" data-line-start="69" data-line-end="70">$ git commit -m “Commit 02: Programas necesarios”</li>
<li class="has-line-data" data-line-start="70" data-line-end="72">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=72 data-line-end=73><a id="Video_03_Creacin_del_proyecto_72"></a>Video 03. Creación del proyecto</h3>
<p class="has-line-data" data-line-start="73" data-line-end="75"><strong>URL Codersfree dominio local</strong>: <a href="https://codersfree.com/blog/como-generar-un-dominio-local-en-windows-xampp">https://codersfree.com/blog/como-generar-un-dominio-local-en-windows-xampp</a><br>
<strong>URL Repositorio del curso</strong>: <a href="https://github.com/coders-free/payment">https://github.com/coders-free/payment</a></p>
<ol>
<li class="has-line-data" data-line-start="75" data-line-end="86">Crear proyecto para la <strong>Pasarela de Pago</strong>:
<ul>
<li class="has-line-data" data-line-start="76" data-line-end="77">$ laravel new paymet --jet</li>
<li class="has-line-data" data-line-start="77" data-line-end="80">Which Jetstream stack do you prefer?<br>
[0] livewire<br>
[1] inertia</li>
<li class="has-line-data" data-line-start="80" data-line-end="81">Respuesta: <strong>0</strong></li>
<li class="has-line-data" data-line-start="81" data-line-end="82">Will your application use teams? (yes/no) [no]: <strong>no</strong></li>
<li class="has-line-data" data-line-start="82" data-line-end="84">Ingresar a la carpeta del proyecto:
<ul>
<li class="has-line-data" data-line-start="83" data-line-end="84">$ cd paymet</li>
</ul>
</li>
<li class="has-line-data" data-line-start="84" data-line-end="85">$ npm install</li>
<li class="has-line-data" data-line-start="85" data-line-end="86">$ npm run dev</li>
</ul>
</li>
<li class="has-line-data" data-line-start="86" data-line-end="87">Crear base de datos <strong>paymet</strong>.</li>
<li class="has-line-data" data-line-start="87" data-line-end="89">Ejecutar las migraciones:
<ul>
<li class="has-line-data" data-line-start="88" data-line-end="89">$ php artisan migrate</li>
</ul>
</li>
<li class="has-line-data" data-line-start="89" data-line-end="93">Abrir el archivo: <strong>C:\Windows\System32\drivers\etc\hosts</strong> como administrador y en la parte final del archivo escribir.<pre><code class="has-line-data" data-line-start="91" data-line-end="93">127.0.0.1     paymet.test
</code></pre>
</li>
<li class="has-line-data" data-line-start="93" data-line-end="94">Guardar y cerrar.</li>
<li class="has-line-data" data-line-start="94" data-line-end="95">Abri el archivo de texto plano de configuración de Apache <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong>.</li>
<li class="has-line-data" data-line-start="95" data-line-end="116">Ir al final del archivo y anexar lo siguiente:
<ul>
<li class="has-line-data" data-line-start="96" data-line-end="104">Si nunca has creado un virtual host agregar:<pre><code class="has-line-data" data-line-start="98" data-line-end="103" class="language-conf">&lt;VirtualHost *&gt;
    DocumentRoot &quot;C:\xampp\htdocs&quot;
    ServerName localhost
&lt;/VirtualHost&gt;
</code></pre>
<ul>
<li class="has-line-data" data-line-start="103" data-line-end="104"><strong>Nota</strong>: Esta estructura se agrega una única vez.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="104" data-line-end="116">Luego agregar:<pre><code class="has-line-data" data-line-start="106" data-line-end="116" class="language-conf">&lt;VirtualHost *&gt;
    DocumentRoot &quot;C:\xampp\htdocs\cursos\26pasarela\public&quot;
    ServerName paymet.test
    &lt;Directory &quot;C:\xampp\htdocs\cursos\26pasarela\public&quot;&gt;
        Options All
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="116" data-line-end="117">Guardar y cerrar.</li>
<li class="has-line-data" data-line-start="117" data-line-end="120">Reiniciar el servidor Apache.
<ul>
<li class="has-line-data" data-line-start="118" data-line-end="119"><strong>Nota 1</strong>: ahora podemos ejecutar nuestro proyecto local en el navegador introduciendo la siguiente dirección: <a href="http://paymet.test">http://paymet.test</a></li>
<li class="has-line-data" data-line-start="119" data-line-end="120"><strong>Nota 2</strong>: En caso de que no funcione el enlace, cambiar en el archivo <strong>C:\xampp\apache\conf\extra\httpd-vhosts.conf</strong> todos los segmentos de código <strong>&lt;VirtualHost *&gt;</strong> por *<em>&lt;VirtualHost <em>:80&gt;</em></em>.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="120" data-line-end="125">Commit Video 03:
<ul>
<li class="has-line-data" data-line-start="121" data-line-end="122">$ git add .</li>
<li class="has-line-data" data-line-start="122" data-line-end="123">$ git commit -m “Commit 03: Creación del proyecto”</li>
<li class="has-line-data" data-line-start="123" data-line-end="125">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=125 data-line-end=126><a id="Video_04_Reutilizar_la_plantilla_Jetstream_125"></a>Video 04. Reutilizar la plantilla Jetstream</h3>
<ul>
<li class="has-line-data" data-line-start="126" data-line-end="127"><strong>URL Documentación Jetstream</strong>: <a href="https://jetstream.laravel.com/2.x/introduction.html">https://jetstream.laravel.com/2.x/introduction.html</a></li>
</ul>
<ol>
<li class="has-line-data" data-line-start="127" data-line-end="157">Adaptar la plantilla <strong>resources\views\layouts\app.blade.php</strong> a nuestro proyecto:<pre><code class="has-line-data" data-line-start="129" data-line-end="157" class="language-php">&lt;!DOCTYPE html&gt;
&lt;html lang="{{ str_replace('_', '-', app()-&gt;getLocale()) }}"&gt;
    &lt;head&gt;
        ≡
        &lt;title&gt;{{ config('app.name', 'Laravel') }}&lt;/title&gt;

        &lt;!-- Icon --&gt;
        &lt;link  rel="icon"   href="favicon.ico" type="image/png" /&gt;
        ≡
    &lt;/head&gt;
    &lt;body class="font-sans antialiased"&gt;
        &lt;x-jet-banner /&gt;

        &lt;div class="min-h-screen bg-gray-100"&gt;
            @livewire('navigation-menu')

            &lt;!-- Page Content --&gt;
            &lt;main&gt;
                {{ $slot }}
            &lt;/main&gt;
        &lt;/div&gt;

        @stack('modals')

        @livewireScripts
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="157" data-line-end="353">Adaptar la vista <strong>resources\views\navigation-menu.blade.php</strong> a nuestro proyectos:<pre><code class="has-line-data" data-line-start="159" data-line-end="353" class="language-php">@php
    $nav_links = [
        [
            'name' =&gt; 'Principal',
            'route' =&gt; route('home'),
            'active' =&gt; request()-&gt;routeIs('home')
        ],
    ];
@endphp

&lt;nav x-data="{ open: false }" class="bg-white border-b border-gray-100 shadow"&gt;
    &lt;!-- Primary Navigation Menu --&gt;
    &lt;div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
        &lt;div class="flex justify-between h-16"&gt;
            &lt;div class="flex"&gt;
                &lt;!-- Logo --&gt;
                &lt;div class="flex-shrink-0 flex items-center"&gt;
                    ≡
                &lt;/div&gt;

                &lt;!-- Navigation Links --&gt;
                &lt;div class="hidden space-x-8 sm:-my-px sm:ml-10 sm:flex"&gt;
                    @foreach ($nav_links as $nav_link)
                        &lt;x-jet-nav-link href="{{ $nav_link['route'] }}" :active="$nav_link['active']"&gt;
                            {{ $nav_link['name'] }}
                        &lt;/x-jet-nav-link&gt;
                    @endforeach
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="hidden sm:flex sm:items-center sm:ml-6"&gt;
                &lt;!-- Teams Dropdown --&gt;
                ≡

                &lt;!-- Settings Dropdown --&gt;
                &lt;div class="ml-3 relative"&gt;
                    @auth
                        &lt;x-jet-dropdown align="right" width="48"&gt;
                            &lt;x-slot name="trigger"&gt;
                                @if (Laravel\Jetstream\Jetstream::managesProfilePhotos())
                                    &lt;button class="flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300 transition"&gt;
                                        &lt;img class="h-8 w-8 rounded-full object-cover" src="{{ Auth::user()-&gt;profile_photo_url }}" alt="{{ Auth::user()-&gt;name }}" /&gt;
                                    &lt;/button&gt;
                                @else
                                    &lt;span class="inline-flex rounded-md"&gt;
                                        &lt;button type="button" class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition"&gt;
                                            {{ Auth::user()-&gt;name }}

                                            &lt;svg class="ml-2 -mr-0.5 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"&gt;
                                                &lt;path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" /&gt;
                                            &lt;/svg&gt;
                                        &lt;/button&gt;
                                    &lt;/span&gt;
                                @endif
                            &lt;/x-slot&gt;

                            &lt;x-slot name="content"&gt;
                                &lt;!-- Account Management --&gt;
                                &lt;div class="block px-4 py-2 text-xs text-gray-400"&gt;
                                    {{ __('Manage Account') }}
                                &lt;/div&gt;

                                &lt;x-jet-dropdown-link href="{{ route('profile.show') }}"&gt;
                                    {{ __('Profile') }}
                                &lt;/x-jet-dropdown-link&gt;

                                @if (Laravel\Jetstream\Jetstream::hasApiFeatures())
                                    &lt;x-jet-dropdown-link href="{{ route('api-tokens.index') }}"&gt;
                                        {{ __('API Tokens') }}
                                    &lt;/x-jet-dropdown-link&gt;
                                @endif

                                &lt;div class="border-t border-gray-100"&gt;&lt;/div&gt;

                                &lt;!-- Authentication --&gt;
                                &lt;form method="POST" action="{{ route('logout') }}"&gt;
                                    @csrf

                                    &lt;x-jet-dropdown-link href="{{ route('logout') }}"
                                            onclick="event.preventDefault();
                                                    this.closest('form').submit();"&gt;
                                        {{ __('Log Out') }}
                                    &lt;/x-jet-dropdown-link&gt;
                                &lt;/form&gt;
                            &lt;/x-slot&gt;
                        &lt;/x-jet-dropdown&gt;
                    @else
                        &lt;a href="{{ route('login') }}" class="text-sm text-gray-700 dark:text-gray-500 underline"&gt;Inicio&lt;/a&gt;
                        &lt;a href="{{ route('register') }}" class="ml-4 text-sm text-gray-700 dark:text-gray-500 underline"&gt;Registro&lt;/a&gt;
                    @endauth
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Hamburger --&gt;
            &lt;div class="-mr-2 flex items-center sm:hidden"&gt;
                ≡
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Responsive Navigation Menu --&gt;
    &lt;div :class="{'block': open, 'hidden': ! open}" class="hidden sm:hidden"&gt;
        &lt;div class="pt-2 pb-3 space-y-1"&gt;
            @foreach ($nav_links as $nav_link)
                &lt;x-jet-responsive-nav-link href="{{ $nav_link['route'] }}" :active="$nav_link['active']"&gt;
                    {{ $nav_link['name'] }}
                &lt;/x-jet-responsive-nav-link&gt;
            @endforeach
        &lt;/div&gt;

        &lt;!-- Responsive Settings Options --&gt;
        @auth
            &lt;div class="pt-4 pb-1 border-t border-gray-200"&gt;
                &lt;div class="flex items-center px-4"&gt;
                    @if (Laravel\Jetstream\Jetstream::managesProfilePhotos())
                        &lt;div class="flex-shrink-0 mr-3"&gt;
                            &lt;img class="h-10 w-10 rounded-full object-cover" src="{{ Auth::user()-&gt;profile_photo_url }}" alt="{{ Auth::user()-&gt;name }}" /&gt;
                        &lt;/div&gt;
                    @endif

                    &lt;div&gt;
                        &lt;div class="font-medium text-base text-gray-800"&gt;{{ Auth::user()-&gt;name }}&lt;/div&gt;
                        &lt;div class="font-medium text-sm text-gray-500"&gt;{{ Auth::user()-&gt;email }}&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;

                &lt;div class="mt-3 space-y-1"&gt;
                    &lt;!-- Account Management --&gt;
                    &lt;x-jet-responsive-nav-link href="{{ route('profile.show') }}" :active="request()-&gt;routeIs('profile.show')"&gt;
                        {{ __('Profile') }}
                    &lt;/x-jet-responsive-nav-link&gt;

                    @if (Laravel\Jetstream\Jetstream::hasApiFeatures())
                        &lt;x-jet-responsive-nav-link href="{{ route('api-tokens.index') }}" :active="request()-&gt;routeIs('api-tokens.index')"&gt;
                            {{ __('API Tokens') }}
                        &lt;/x-jet-responsive-nav-link&gt;
                    @endif

                    &lt;!-- Authentication --&gt;
                    &lt;form method="POST" action="{{ route('logout') }}"&gt;
                        @csrf

                        &lt;x-jet-responsive-nav-link href="{{ route('logout') }}"
                                    onclick="event.preventDefault();
                                        this.closest('form').submit();"&gt;
                            {{ __('Log Out') }}
                        &lt;/x-jet-responsive-nav-link&gt;
                    &lt;/form&gt;

                    &lt;!-- Team Management --&gt;
                    @if (Laravel\Jetstream\Jetstream::hasTeamFeatures())
                        &lt;div class="border-t border-gray-200"&gt;&lt;/div&gt;

                        &lt;div class="block px-4 py-2 text-xs text-gray-400"&gt;
                            {{ __('Manage Team') }}
                        &lt;/div&gt;

                        &lt;!-- Team Settings --&gt;
                        &lt;x-jet-responsive-nav-link href="{{ route('teams.show', Auth::user()-&gt;currentTeam-&gt;id) }}" :active="request()-&gt;routeIs('teams.show')"&gt;
                            {{ __('Team Settings') }}
                        &lt;/x-jet-responsive-nav-link&gt;

                        @can('create', Laravel\Jetstream\Jetstream::newTeamModel())
                            &lt;x-jet-responsive-nav-link href="{{ route('teams.create') }}" :active="request()-&gt;routeIs('teams.create')"&gt;
                                {{ __('Create New Team') }}
                            &lt;/x-jet-responsive-nav-link&gt;
                        @endcan

                        &lt;div class="border-t border-gray-200"&gt;&lt;/div&gt;

                        &lt;!-- Team Switcher --&gt;
                        &lt;div class="block px-4 py-2 text-xs text-gray-400"&gt;
                            {{ __('Switch Teams') }}
                        &lt;/div&gt;

                        @foreach (Auth::user()-&gt;allTeams() as $team)
                            &lt;x-jet-switchable-team :team="$team" component="jet-responsive-nav-link" /&gt;
                        @endforeach
                    @endif
                &lt;/div&gt;
            &lt;/div&gt;
        @else
            &lt;div class="py-1 border-t border-gray-200"&gt;
                &lt;x-jet-responsive-nav-link href="{{ route('login') }}" :active="request()-&gt;routeIs('login')"&gt;
                    Inicio
                &lt;/x-jet-responsive-nav-link&gt;
                &lt;x-jet-responsive-nav-link href="{{ route('register') }}" :active="request()-&gt;routeIs('register')"&gt;
                    Registro
                &lt;/x-jet-responsive-nav-link&gt;               
            &lt;/div&gt;
        @endauth
    &lt;/div&gt;
&lt;/nav&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="353" data-line-end="357">Publicar las vistas de Jetstream:
<ul>
<li class="has-line-data" data-line-start="354" data-line-end="355">$ php artisan vendor:publish --tag=jetstream-views</li>
<li class="has-line-data" data-line-start="355" data-line-end="356"><strong>Nota 1</strong>: las vistas de Jetstream se publicarán en <strong>resources\views\vendor\jetstream</strong>.</li>
<li class="has-line-data" data-line-start="356" data-line-end="357"><strong>Nota 2</strong>: en el componente <strong>resources\views\vendor\jetstream\components\application-mark.blade.php</strong> se puede cambiar el logito de la aplicación.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="357" data-line-end="361"><strong>Personalización</strong>: El componente <strong>resources\views\vendor\jetstream\components\application-mark.blade.php</strong> se personalizó con la imagen del proyecto:<pre><code class="has-line-data" data-line-start="359" data-line-end="361" class="language-php">&lt;img src=<span class="hljs-string">"{{ asset('assets\images\logo.png') }}"</span> alt=<span class="hljs-string">"Logo de la empresa"</span> width=<span class="hljs-string">"40"</span>&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="361" data-line-end="367"><strong>Personalización</strong>: El componente <strong>resources\views\vendor\jetstream\components\authentication-card-logo.blade.php</strong> se personalizó con la imagen del proyecto:<pre><code class="has-line-data" data-line-start="363" data-line-end="367" class="language-php">&lt;a href=<span class="hljs-string">"/"</span>&gt;
    &lt;img src=<span class="hljs-string">"{{ asset('assets\images\logo.png') }}"</span> alt=<span class="hljs-string">"Logo de la empresa"</span> width=<span class="hljs-string">"48"</span>&gt;
&lt;/a&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="367" data-line-end="371"><strong>Personalización</strong>: El componente <strong>resources\views\vendor\jetstream\components\application-logo.blade.php</strong> se personalizó con la imagen del proyecto:<pre><code class="has-line-data" data-line-start="369" data-line-end="371" class="language-php">&lt;img src=<span class="hljs-string">"{{ asset('assets\images\logo_completo.png') }}"</span> alt=<span class="hljs-string">"Logo de la empresa"</span> width=<span class="hljs-string">"120"</span>&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="371" data-line-end="372"><strong>Personalización</strong>: Reemplazar el favicon de la aplicación por el del proyecto en <strong>public\favicon.ico</strong></li>
<li class="has-line-data" data-line-start="372" data-line-end="378">Adaptar las rutas raíz del archivo <strong>routes\web.php</strong> a nuestro proyecto:<pre><code class="has-line-data" data-line-start="374" data-line-end="378" class="language-php">Route::get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'welcome'</span>);
})-&gt;name(<span class="hljs-string">'home'</span>);
</code></pre>
</li>
<li class="has-line-data" data-line-start="378" data-line-end="383">Extender de la plantilla de Jetstream la vista <strong>resources\views\welcome.blade.php</strong>:<pre><code class="has-line-data" data-line-start="380" data-line-end="383" class="language-php">&lt;x-app-layout&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="383" data-line-end="388">Commit Video 04:
<ul>
<li class="has-line-data" data-line-start="384" data-line-end="385">$ git add .</li>
<li class="has-line-data" data-line-start="385" data-line-end="386">$ git commit -m “Commit 04: Reutilizar la plantilla Jetstream”</li>
<li class="has-line-data" data-line-start="386" data-line-end="388">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=388 data-line-end=389><a id="Video_05_Llenar_con_datos_falsos_nuestra_bbdd_388"></a>Video 05. Llenar con datos falsos nuestra bbdd</h3>
<ol>
<li class="has-line-data" data-line-start="389" data-line-end="391">Crear el modelo <strong>Product</strong> con magración, factory y controlador:
<ul>
<li class="has-line-data" data-line-start="390" data-line-end="391">$ php artisan make:model Product -mfc</li>
</ul>
</li>
<li class="has-line-data" data-line-start="391" data-line-end="393">Generar el acceso directo a storage:
<ul>
<li class="has-line-data" data-line-start="392" data-line-end="393">$ php artisan storage:link</li>
</ul>
</li>
<li class="has-line-data" data-line-start="393" data-line-end="398">Cambiar el valor de la siguiente variable de entorno en <strong>.env</strong>:<pre><code class="has-line-data" data-line-start="395" data-line-end="398">APP_NAME=PayMet
FILESYSTEM_DRIVER=public
</code></pre>
</li>
<li class="has-line-data" data-line-start="398" data-line-end="412">Modificar el método <strong>up</strong> de la migración <strong>database\migrations\2021_09_24_201344_create_products_table.php</strong>:<pre><code class="has-line-data" data-line-start="400" data-line-end="412" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span>
</span>{
    Schema::create(<span class="hljs-string">'products'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Blueprint <span class="hljs-variable">$table</span>)</span> </span>{
        <span class="hljs-variable">$table</span>-&gt;id();
        <span class="hljs-variable">$table</span>-&gt;string(<span class="hljs-string">'title'</span>);
        <span class="hljs-variable">$table</span>-&gt;string(<span class="hljs-string">'image'</span>);
        <span class="hljs-variable">$table</span>-&gt;text(<span class="hljs-string">'description'</span>);
        <span class="hljs-variable">$table</span>-&gt;string(<span class="hljs-string">'price'</span>);
        <span class="hljs-variable">$table</span>-&gt;timestamps();
    });
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="412" data-line-end="424">Modificar el método <strong>definition</strong> del factory <strong>database\factories\ProductFactory.php</strong>:<pre><code class="has-line-data" data-line-start="414" data-line-end="424" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">definition</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> [
        <span class="hljs-string">'title'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;faker-&gt;word(),
        <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/'</span> . <span class="hljs-variable">$this</span>-&gt;faker-&gt;image(<span class="hljs-string">'public/storage/products'</span>, <span class="hljs-number">640</span>, <span class="hljs-number">480</span>, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>),
        <span class="hljs-string">'description'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;faker-&gt;text(),
        <span class="hljs-string">'price'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;faker-&gt;randomElement([<span class="hljs-number">19</span>, <span class="hljs-number">49</span>, <span class="hljs-number">99</span>])
    ];
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="424" data-line-end="426">Crear el modelo <strong>Article</strong> con magración, factory y controlador:
<ul>
<li class="has-line-data" data-line-start="425" data-line-end="426">$ php artisan make:model Article -mfc</li>
</ul>
</li>
<li class="has-line-data" data-line-start="426" data-line-end="440">Modificar el método <strong>up</strong> de la migración <strong>database\migrations\2021_09_24_212439_create_articles_table.php</strong>:<pre><code class="has-line-data" data-line-start="428" data-line-end="440" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span>
</span>{
    Schema::create(<span class="hljs-string">'articles'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Blueprint <span class="hljs-variable">$table</span>)</span> </span>{
        <span class="hljs-variable">$table</span>-&gt;id();
        <span class="hljs-variable">$table</span>-&gt;string(<span class="hljs-string">'title'</span>);
        <span class="hljs-variable">$table</span>-&gt;string(<span class="hljs-string">'image'</span>);
        <span class="hljs-variable">$table</span>-&gt;text(<span class="hljs-string">'extract'</span>);
        <span class="hljs-variable">$table</span>-&gt;longText(<span class="hljs-string">'body'</span>);
        <span class="hljs-variable">$table</span>-&gt;timestamps();
    });
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="440" data-line-end="452">Modificar el método <strong>definition</strong> del factory <strong>database\factories\ArticleFactory.php</strong>:<pre><code class="has-line-data" data-line-start="442" data-line-end="452" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">definition</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> [
        <span class="hljs-string">'title'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;faker-&gt;sentence(),
        <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'articles/'</span> . <span class="hljs-variable">$this</span>-&gt;faker-&gt;image(<span class="hljs-string">'public/storage/articles'</span>, <span class="hljs-number">640</span>, <span class="hljs-number">480</span>, <span class="hljs-keyword">null</span>, <span class="hljs-keyword">false</span>),
        <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;faker-&gt;text(),
        <span class="hljs-string">'body'</span> =&gt; <span class="hljs-variable">$this</span>-&gt;faker-&gt;text(<span class="hljs-number">2000</span>)
    ];
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="452" data-line-end="472">Modificar el método <strong>run</strong> del seeder <strong>database\seeders\DatabaseSeeder.php</strong>:<pre><code class="has-line-data" data-line-start="454" data-line-end="466" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span>
</span>{
    Storage::deleteDirectory(<span class="hljs-string">'products'</span>);
    Storage::deleteDirectory(<span class="hljs-string">'articles'</span>);

    Storage::makeDirectory(<span class="hljs-string">'products'</span>);
    Storage::makeDirectory(<span class="hljs-string">'articles'</span>);

    Product::factory(<span class="hljs-number">50</span>)-&gt;create();
    Article::factory(<span class="hljs-number">50</span>)-&gt;create();
}
</code></pre>
<ul>
<li class="has-line-data" data-line-start="466" data-line-end="467">Importar las definiciones de los modelos <strong>Article</strong> y <strong>Product</strong> y el facade <strong>Storage</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="468" data-line-end="472" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Article</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Product</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Facades</span>\<span class="hljs-title">Storage</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="472" data-line-end="474">Ejecutar nuevamente las migraciones junto a los seeders:
<ul>
<li class="has-line-data" data-line-start="473" data-line-end="474">$ php artisan migrate:fresh --seed</li>
</ul>
</li>
<li class="has-line-data" data-line-start="474" data-line-end="479">Commit Video 05:
<ul>
<li class="has-line-data" data-line-start="475" data-line-end="476">$ git add .</li>
<li class="has-line-data" data-line-start="476" data-line-end="477">$ git commit -m “Commit 05: Llenar con datos falsos nuestra bbdd”</li>
<li class="has-line-data" data-line-start="477" data-line-end="479">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=479 data-line-end=480><a id="Video_06_Creando_nuestros_propios_estilos_css_479"></a>Video 06. Creando nuestros propios estilos css</h3>
<ol>
<li class="has-line-data" data-line-start="480" data-line-end="518">Crear archivo de estilo <strong>resources\css\buttons.css</strong>:<pre><code class="has-line-data" data-line-start="482" data-line-end="518" class="language-css">.btn {
    @apply font-bold py-2 px-4 rounded;
}

.btn-primary {
    @apply bg-blue-500 text-white;
}

.btn-primary:hover {
    @apply bg-blue-700;
}

.btn-danger {
    @apply bg-red-500 text-white;
}

.btn-danger:hover {
    @apply bg-red-700;
}

.btn-success {
    @apply bg-green-500 text-white;
}

.btn-success:hover {
    @apply bg-green-700;
}

.btn-secondary {
    @apply bg-gray-500 text-white;
}

.btn-secondary:hover {
    @apply bg-gray-700;
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="518" data-line-end="540">Crear archivo de estilo <strong>resources\css\cards.css</strong>:<pre><code class="has-line-data" data-line-start="520" data-line-end="540" class="language-css">.card{
    @apply rounded overflow-hidden shadow-lg bg-white;
}

.card-body, .card-footer, .card-header{
    @apply px-6 py-4;
}

.card-footer, .card-header{
    @apply bg-gray-50;
}

.card-title{
    @apply font-bold text-xl mb-2;
}

.card-text{
    @apply text-gray-700 text-base;
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="540" data-line-end="546">Crear archivo de estilo <strong>resources\css\container.css</strong><pre><code class="has-line-data" data-line-start="542" data-line-end="546" class="language-css">.container{
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="546" data-line-end="576">Crear archivo de estilo <strong>resources\css\forms.css</strong><pre><code class="has-line-data" data-line-start="548" data-line-end="576" class="language-css">.form-group{
    @apply mb-6;
}

.form-label{
    @apply block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2;
}

.form-control{
    @apply appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-100 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-400;
}

.form-select{
    @apply appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-100 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-400;
}

.is-invalid{
    @apply border-red-500 focus:border-red-500;
}

.form-text{
    @apply text-gray-600 text-xs italic;
}

.invalid-feedback{
    @apply text-red-500 text-xs italic;
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="576" data-line-end="587">Importar los nuevos estilos <strong>buttons</strong>, <strong>cards</strong>, <strong>container</strong> y <strong>forms</strong> en <strong>resources\css\app.css</strong>:<pre><code class="has-line-data" data-line-start="578" data-line-end="587" class="language-css"><span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'tailwindcss/base'</span></span>;
<span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'tailwindcss/components'</span></span>;
<span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'tailwindcss/utilities'</span></span>;

<span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'buttons.css'</span></span>;
<span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'cards.css'</span></span>;
<span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'container.css'</span></span>;
<span class="hljs-at_rule">@<span class="hljs-keyword">import</span> <span class="hljs-string">'forms.css'</span></span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="587" data-line-end="598">Deshabilitar la clase <strong>container</strong> de <strong>tailwind</strong> en <strong>tailwind.config.js</strong>:<pre><code class="has-line-data" data-line-start="589" data-line-end="598" class="language-js"><span class="hljs-keyword">const</span> defaultTheme = <span class="hljs-built_in">require</span>(<span class="hljs-string">'tailwindcss/defaultTheme'</span>);

<span class="hljs-built_in">module</span>.exports = {
    ≡
    corePlugins: {
        container: <span class="hljs-literal">false</span>,
    }
};
</code></pre>
</li>
<li class="has-line-data" data-line-start="598" data-line-end="600">Volver a compilar los estilos:
<ul>
<li class="has-line-data" data-line-start="599" data-line-end="600">$ npm run dev</li>
</ul>
</li>
<li class="has-line-data" data-line-start="600" data-line-end="605">Commit Video 06:
<ul>
<li class="has-line-data" data-line-start="601" data-line-end="602">$ git add .</li>
<li class="has-line-data" data-line-start="602" data-line-end="603">$ git commit -m “Commit 06: Creando nuestros propios estilos css”</li>
<li class="has-line-data" data-line-start="603" data-line-end="605">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=605 data-line-end=606><a id="Video_07_Mostrar_productos_y_artculos_605"></a>Video 07. Mostrar productos y artículos</h3>
<ol>
<li class="has-line-data" data-line-start="606" data-line-end="614">Redefinir la ruta raíz de la aplicación en el archivo de rutas <strong>routes\web.php</strong>:<pre><code class="has-line-data" data-line-start="608" data-line-end="610" class="language-php">Route::get(<span class="hljs-string">'/'</span>, [ProductController::class, <span class="hljs-string">'index'</span>])-&gt;name(<span class="hljs-string">'home'</span>);
</code></pre>
<ul>
<li class="has-line-data" data-line-start="610" data-line-end="611">Importar la definición del controlador <strong>ProductController</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="612" data-line-end="614" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">ProductController</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="614" data-line-end="625">Crear el método <strong>index</strong> en el controlador <strong>app\Http\Controllers\ProductController.php</strong>:<pre><code class="has-line-data" data-line-start="616" data-line-end="621" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span></span>{
    <span class="hljs-variable">$products</span> = Product::paginate(<span class="hljs-number">9</span>);
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'welcome'</span>, compact(<span class="hljs-string">'products'</span>));
}
</code></pre>
<ul>
<li class="has-line-data" data-line-start="621" data-line-end="622">Importar la definición del modelo <strong>Product</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="623" data-line-end="625" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Product</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="625" data-line-end="650">Diseñar la vista <strong>resources\views\welcome.blade.php</strong>:<pre><code class="has-line-data" data-line-start="627" data-line-end="650" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="container py-10"&gt;
        &lt;div class="grid grid-cols-3 gap-6"&gt;
            @foreach ($products as $product)
                &lt;div class="card"&gt;
                    &lt;div class="px-4 py-2 bg-gray-900 flex justify-between items-center"&gt;
                        &lt;p class="text-gray-200 font-bold text-xl"&gt;{{ $product-&gt;price }} USD&lt;/p&gt;
                        &lt;a href="" class="btn btn-secondary"&gt;Comprar&lt;/a&gt;
                    &lt;/div&gt;
                    &lt;img class="h-56 w-full object-cover" src="{{Storage::url($product-&gt;image)}}" alt="Imagen del producto"&gt;
                    &lt;div class="card-body"&gt;
                        &lt;h1 class="text-gray-900 font-bold text-xl uppercase"&gt;{{ $product-&gt;title }}&lt;/h1&gt;
                        &lt;p class="text-gray-600 text-sm mt-1"&gt;{{ Str::limit($product-&gt;description, 150) }}&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            @endforeach
            &lt;div class="mt-6"&gt;
                {{ $products-&gt;links() }}
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="650" data-line-end="659">Crear rutas <strong>get articles</strong> en <strong>routes\web.php</strong>:<pre><code class="has-line-data" data-line-start="652" data-line-end="655" class="language-php">Route::get(<span class="hljs-string">'articles'</span>, [ArticleController::class, <span class="hljs-string">'index'</span>])-&gt;name(<span class="hljs-string">'articles.index'</span>);
Route::get(<span class="hljs-string">'articles/{article}'</span>, [ArticleController::class, <span class="hljs-string">'show'</span>])-&gt;name(<span class="hljs-string">'articles.show'</span>);
</code></pre>
<ul>
<li class="has-line-data" data-line-start="655" data-line-end="656">Importar la definición del controlador <strong>ArticleController</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="657" data-line-end="659" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">ArticleController</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="659" data-line-end="670">Definir el método <strong>index</strong> en el controlador <strong>app\Http\Controllers\ArticleController.php</strong>:<pre><code class="has-line-data" data-line-start="661" data-line-end="666" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span></span>{
    <span class="hljs-variable">$articles</span> = Article::paginate(<span class="hljs-number">4</span>);
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'articles.index'</span>, compact(<span class="hljs-string">'articles'</span>));
}
</code></pre>
<ul>
<li class="has-line-data" data-line-start="666" data-line-end="667">Importar la definición del modelo <strong>Article</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="668" data-line-end="670" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Article</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="670" data-line-end="694">Crear la vista <strong>resources\views\articles\index.blade.php</strong>:<pre><code class="has-line-data" data-line-start="672" data-line-end="694" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="max-w-5xl mx-auto px-4 lg:px-8 py-12"&gt;
        @foreach ($articles as $article)
            &lt;article class="card mb-6"&gt;

                &lt;img class="h-72 w-full object-cover object-center" src="{{Storage::url($article-&gt;image)}}" alt="Imagen del artículo"&gt;

                &lt;div class="card-body"&gt;
                    &lt;h1 class="font-bold text-xl mb-2"&gt;
                        &lt;a href="{{route('articles.show', $article)}}"&gt;{{$article-&gt;title}}&lt;/a&gt;
                    &lt;/h1&gt;

                    &lt;div class="text-gray-700"&gt;
                        {{$article-&gt;extract}}
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/article&gt;
        @endforeach
        {{$articles-&gt;links()}}
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="694" data-line-end="712">Incluir la vista Article en resources\views\navigation-menu.blade.php:<pre><code class="has-line-data" data-line-start="696" data-line-end="712" class="language-php">@php
    <span class="hljs-variable">$nav_links</span> = [
        [
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Principal'</span>,
            <span class="hljs-string">'route'</span> =&gt; route(<span class="hljs-string">'home'</span>),
            <span class="hljs-string">'active'</span> =&gt; request()-&gt;routeIs(<span class="hljs-string">'home'</span>)
        ],
        [
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Artículos'</span>,
            <span class="hljs-string">'route'</span> =&gt; route(<span class="hljs-string">'articles.index'</span>),
            <span class="hljs-string">'active'</span> =&gt; request()-&gt;routeIs(<span class="hljs-string">'articles.*'</span>)
        ],
    ];
@endphp
≡
</code></pre>
</li>
<li class="has-line-data" data-line-start="712" data-line-end="718">Definir el método <strong>show</strong> en el controlador <strong>app\Http\Controllers\ArticleController.php</strong>:<pre><code class="has-line-data" data-line-start="714" data-line-end="718" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">(Article <span class="hljs-variable">$article</span>)</span></span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'articles.show'</span>, compact(<span class="hljs-variable">$article</span>));
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="718" data-line-end="738">Crear la vista <strong>resources\views\articles\show.blade.php</strong>:<pre><code class="has-line-data" data-line-start="720" data-line-end="738" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="max-w-5xl mx-auto px-4 lg:px-8 py-12"&gt;
        &lt;h1 class="text-4xl font-bold text-gray-600"&gt;{{$article-&gt;title}}&lt;/h1&gt;

        &lt;div class="text-lg text-gray-500 mb-2"&gt;
            {{$article-&gt;extract}}
        &lt;/div&gt;

        &lt;figure&gt;
            &lt;img class="h-80 w-full object-cover object-center" src="{{Storage::url($article-&gt;image)}}" alt="Imagen del artículo"&gt;
        &lt;/figure&gt;

        &lt;div class="text-gray-500 mt-4"&gt;
            {{$article-&gt;body}}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="738" data-line-end="743">Commit Video 07:
<ul>
<li class="has-line-data" data-line-start="739" data-line-end="740">$ git add .</li>
<li class="has-line-data" data-line-start="740" data-line-end="741">$ git commit -m “Commit 07: Mostrar productos y artículos”</li>
<li class="has-line-data" data-line-start="741" data-line-end="743">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=743 data-line-end=744><a id="Seccin_2_Preparar_el_proyecto_para_recibir_pagos_743"></a>Sección 2: Preparar el proyecto para recibir pagos</h2>
<h3 class="code-line" data-line-start=745 data-line-end=746><a id="Video_08_Crear_una_cuenta_en_Stripe_745"></a>Video 08. Crear una cuenta en Stripe</h3>
<ol>
<li class="has-line-data" data-line-start="746" data-line-end="749">Crear cuenta en Stripe:
<ul>
<li class="has-line-data" data-line-start="747" data-line-end="748"><a href="https://dashboard.stripe.com/register">https://dashboard.stripe.com/register</a></li>
<li class="has-line-data" data-line-start="748" data-line-end="749"><strong>Nota</strong>: escoger Estados Unidos como país, ya que no aparacen para escoger casi ningún país de latinoamerica.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="749" data-line-end="754">Commit Video 08:
<ul>
<li class="has-line-data" data-line-start="750" data-line-end="751">$ git add .</li>
<li class="has-line-data" data-line-start="751" data-line-end="752">$ git commit -m “Commit 08: Crear una cuenta en Stripe”</li>
<li class="has-line-data" data-line-start="752" data-line-end="754">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=754 data-line-end=755><a id="Video_09_Instalar_Laravel_Cashier_754"></a>Video 09. Instalar Laravel Cashier</h3>
<ul>
<li class="has-line-data" data-line-start="755" data-line-end="756"><strong>URL Documentación Laravel Cashier</strong>: <a href="https://laravel.com/docs/8.x/billing">https://laravel.com/docs/8.x/billing</a></li>
</ul>
<ol>
<li class="has-line-data" data-line-start="756" data-line-end="759">Instalar Laravel Cashier:
<ul>
<li class="has-line-data" data-line-start="757" data-line-end="758">$ composer require laravel/cashier</li>
<li class="has-line-data" data-line-start="758" data-line-end="759">$ php artisan migrate</li>
</ul>
</li>
<li class="has-line-data" data-line-start="759" data-line-end="775">Agregar el trait <strong>Billable</strong> al modelo <strong>app\Models\User.php</strong>:<pre><code class="has-line-data" data-line-start="761" data-line-end="775" class="language-php">≡
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Cashier</span>\<span class="hljs-title">Billable</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Authenticatable</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasApiTokens</span>;
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasProfilePhoto</span>;
    <span class="hljs-keyword">use</span> <span class="hljs-title">Notifiable</span>;
    <span class="hljs-keyword">use</span> <span class="hljs-title">TwoFactorAuthenticatable</span>;
    <span class="hljs-keyword">use</span> <span class="hljs-title">Billable</span>;
    ≡
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="775" data-line-end="796">Agregar las credenciales de la cuenta de Stripe en <strong>.env</strong>:<pre><code class="has-line-data" data-line-start="777" data-line-end="781" class="language-env">≡
STRIPE_KEY=your-stripe-key
STRIPE_SECRET=your-stripe-secret
</code></pre>
<ul>
<li class="has-line-data" data-line-start="781" data-line-end="787"><strong>Obtener credenciales para el proyecto en desarrollo</strong>:
<ul>
<li class="has-line-data" data-line-start="782" data-line-end="783">Hacer login en la página de <a href="https://stripe.com/es-us">Stripe</a>.</li>
<li class="has-line-data" data-line-start="783" data-line-end="784">Ir a <strong>Desarrolladores</strong>.</li>
<li class="has-line-data" data-line-start="784" data-line-end="787">Ir a <strong>Claves de API</strong>.
<ul>
<li class="has-line-data" data-line-start="785" data-line-end="786">La <strong>Clave publicable</strong> corresponde a <strong>STRIPE_KEY</strong>.</li>
<li class="has-line-data" data-line-start="786" data-line-end="787">La <strong>Clave secreta</strong> corresponde a <strong>STRIPE_SECRET</strong>.</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="787" data-line-end="789"><strong>Obtener credenciales para el proyecto en producción</strong>:
<ul>
<li class="has-line-data" data-line-start="788" data-line-end="789">Activar cuenta en Stripe para que se generen nuevos tokens.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="789" data-line-end="796"><strong>Para espcificar la moneda de cobro</strong>:
<ul>
<li class="has-line-data" data-line-start="790" data-line-end="791">Agregar la siguiente variable de entorno en <strong>.env</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="792" data-line-end="795" class="language-env">≡
CASHIER_CURRENCY=eur
</code></pre>
<ul>
<li class="has-line-data" data-line-start="795" data-line-end="796"><strong>Nota</strong>: por defecto es el dólar.</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="796" data-line-end="801">Commit Video 09:
<ul>
<li class="has-line-data" data-line-start="797" data-line-end="798">$ git add .</li>
<li class="has-line-data" data-line-start="798" data-line-end="799">$ git commit -m “Commit 09: Instalar Laravel Cashier”</li>
<li class="has-line-data" data-line-start="799" data-line-end="801">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=801 data-line-end=802><a id="Video_10_Crear_clientes_en_Stripe_801"></a>Video 10. Crear clientes en Stripe</h3>
<ol>
<li class="has-line-data" data-line-start="802" data-line-end="819">Modificar el método <strong>create</strong> del controlador <strong>app\Actions\Fortify\CreateNewUser.php</strong>:<pre><code class="has-line-data" data-line-start="804" data-line-end="819" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span><span class="hljs-params">(array <span class="hljs-variable">$input</span>)</span>
</span>{
    ≡
    <span class="hljs-variable">$user</span> = User::create([
        <span class="hljs-string">'name'</span> =&gt; <span class="hljs-variable">$input</span>[<span class="hljs-string">'name'</span>],
        <span class="hljs-string">'email'</span> =&gt; <span class="hljs-variable">$input</span>[<span class="hljs-string">'email'</span>],
        <span class="hljs-string">'password'</span> =&gt; Hash::make(<span class="hljs-variable">$input</span>[<span class="hljs-string">'password'</span>]),
    ]);

    <span class="hljs-comment">// Registrar al usuario en la plataforma de Stripe</span>
    <span class="hljs-variable">$user</span>-&gt;createAsStripeCustomer();

    <span class="hljs-keyword">return</span> <span class="hljs-variable">$user</span>;
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="819" data-line-end="824">Commit Video 10:
<ul>
<li class="has-line-data" data-line-start="820" data-line-end="821">$ git add .</li>
<li class="has-line-data" data-line-start="821" data-line-end="822">$ git commit -m “Commit 10: Crear clientes en Stripe”</li>
<li class="has-line-data" data-line-start="822" data-line-end="824">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=824 data-line-end=825><a id="Seccin_3_Mtodos_de_pago_824"></a>Sección 3: Métodos de pago</h2>
<h3 class="code-line" data-line-start=826 data-line-end=827><a id="Video_11_Agregar_mtodos_de_pago_826"></a>Video 11. Agregar métodos de pago</h3>
<ol>
<li class="has-line-data" data-line-start="827" data-line-end="829">Crear el controlador <strong>BillingController</strong>:
<ul>
<li class="has-line-data" data-line-start="828" data-line-end="829">$ php artisan make:controller BillingController</li>
</ul>
</li>
<li class="has-line-data" data-line-start="829" data-line-end="837">Crear ruta get<pre><code class="has-line-data" data-line-start="831" data-line-end="833" class="language-php">Route::get(<span class="hljs-string">'billing'</span>, [BillingController::class, <span class="hljs-string">'index'</span>])-&gt;middleware(<span class="hljs-string">'auth'</span>)-&gt;name(<span class="hljs-string">'billing.index'</span>);
</code></pre>
<ul>
<li class="has-line-data" data-line-start="833" data-line-end="834">Importar la definición del controlador <strong>BillingController</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="835" data-line-end="837" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">BillingController</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="837" data-line-end="843">Definir el método <strong>index</strong> del controlador <strong>app\Http\Controllers\BillingController.php</strong>:<pre><code class="has-line-data" data-line-start="839" data-line-end="843" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'billing.index'</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="843" data-line-end="853">Crear la vista <strong>resources\views\billing\index.blade.php</strong>:<pre><code class="has-line-data" data-line-start="845" data-line-end="853" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="py-12"&gt;
        &lt;div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
            @livewire('payment-method-create')
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="853" data-line-end="925">Incluir el menú <strong>Facturación</strong> en <strong>resources\views\navigation-menu.blade.php</strong>:<pre><code class="has-line-data" data-line-start="855" data-line-end="925" class="language-php">≡
&lt;nav x-data="{ open: false }" class="bg-white border-b border-gray-100 shadow"&gt;
    &lt;!-- Primary Navigation Menu --&gt;
    &lt;div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
        &lt;div class="flex justify-between h-16"&gt;
            ≡
            &lt;div class="hidden sm:flex sm:items-center sm:ml-6"&gt;
                &lt;!-- Teams Dropdown --&gt;
                ≡
                &lt;!-- Settings Dropdown --&gt;
                &lt;div class="ml-3 relative"&gt;
                    @auth
                        &lt;x-jet-dropdown align="right" width="48"&gt;
                            ≡
                            &lt;x-slot name="content"&gt;
                                &lt;!-- Account Management --&gt;
                                ≡
                                &lt;x-jet-dropdown-link href="{{ route('profile.show') }}"&gt;
                                    {{ __('Profile') }}
                                &lt;/x-jet-dropdown-link&gt;

                                &lt;x-jet-dropdown-link href="{{ route('billing.index') }}"&gt;
                                    Facturación
                                &lt;/x-jet-dropdown-link&gt;
                                ≡
                                &lt;!-- Authentication --&gt;
                                ≡
                            &lt;/x-slot&gt;
                        &lt;/x-jet-dropdown&gt;
                    @else
                        ≡
                    @endauth
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Hamburger --&gt;
            ≡
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Responsive Navigation Menu --&gt;
    &lt;div :class="{'block': open, 'hidden': ! open}" class="hidden sm:hidden"&gt;
        ≡
        &lt;!-- Responsive Settings Options --&gt;
        @auth
            &lt;div class="pt-4 pb-1 border-t border-gray-200"&gt;
                ≡
                &lt;div class="mt-3 space-y-1"&gt;
                    &lt;!-- Account Management --&gt;
                    &lt;x-jet-responsive-nav-link href="{{ route('profile.show') }}" :active="request()-&gt;routeIs('profile.show')"&gt;
                        {{ __('Profile') }}
                    &lt;/x-jet-responsive-nav-link&gt;

                    &lt;x-jet-responsive-nav-link href="{{ route('billing.index') }}" :active="request()-&gt;routeIs('billing.index')"&gt;
                        Facturación
                    &lt;/x-jet-responsive-nav-link&gt;
                    ≡
                    &lt;!-- Authentication --&gt;
                    ≡
                    &lt;!-- Team Management --&gt;
                    ≡
                &lt;/div&gt;
            &lt;/div&gt;
        @else
            &lt;div class="py-1 border-t border-gray-200"&gt;
                ≡            
            &lt;/div&gt;
        @endauth
    &lt;/div&gt;
&lt;/nav&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="925" data-line-end="927">Crear componente de livewire <strong>PaymentMethodCreate</strong>:
<ul>
<li class="has-line-data" data-line-start="926" data-line-end="927">$ php artisan make:livewire PaymentMethodCreate</li>
</ul>
</li>
<li class="has-line-data" data-line-start="927" data-line-end="951">Redefinir el controlador <strong>app\Http\Livewire\PaymentMethodCreate.php</strong>:<pre><code class="has-line-data" data-line-start="929" data-line-end="951" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Livewire</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Livewire</span>\<span class="hljs-title">Component</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PaymentMethodCreate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'paymentMethodCreate'</span> =&gt; <span class="hljs-string">'paymentMethodCreate'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.payment-method-create'</span>, [
            <span class="hljs-string">'intent'</span> =&gt; auth()-&gt;user()-&gt;createSetupIntent()
        ]);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paymentMethodCreate</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethod</span>)</span></span>{
        auth()-&gt;user()-&gt;addPaymentMethod(<span class="hljs-variable">$paymentMethod</span>);
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="951" data-line-end="1028">Diseñar vista <strong>resources\views\livewire\payment-method-create.blade.php</strong>:<pre><code class="has-line-data" data-line-start="953" data-line-end="1027" class="language-php">&lt;div&gt;   
    &lt;article class="card"&gt;
        &lt;form action="" id="card-form"&gt;
            &lt;div class="card-body"&gt;

                &lt;h1 class="text-gray-700 text-lg font-bold mb-4"&gt;Agregar método de pago&lt;/h1&gt;
                
                &lt;div class="flex"&gt;
                    &lt;p class="text-gray-700"&gt;Información de tarjeta&lt;/p&gt;
                    &lt;div class="flex-1 ml-6"&gt;
                        &lt;div class="form-group"&gt;
                            &lt;input class="form-control" id="card-holder-name" type="text"
                                placeholder="Nombre del titular de la tarjeta" required&gt;
                        &lt;/div&gt;

                        &lt;!-- Stripe Elements Placeholder --&gt;
                        &lt;div&gt;
                            &lt;div class="form-control" id="card-element"&gt;&lt;/div&gt;

                            &lt;span class="invalid-feedback" id="cardErrors"&gt;&lt;/span&gt;

                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="card-footer bg-gray-50 flex justify-end"&gt;
                &lt;button class="btn btn-primary" id="card-button" data-secret="{{ $intent-&gt;client_secret }}"&gt;
                    Agregar método de pago
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/article&gt;

    @slot('js')
        &lt;script&gt;
            function stripe(){
                const stripe = Stripe(" {{ env('STRIPE_KEY') }} ");
                const elements = stripe.elements();
                const cardElement = elements.create('card');
                cardElement.mount('#card-element');
                //Generar token
                const cardHolderName = document.getElementById('card-holder-name');
                const cardButton = document.getElementById('card-button');
                const cardForm = document.getElementById('card-form');
                const clientSecret = cardButton.dataset.secret;
                cardForm.addEventListener('submit', async (e) =&gt; {
                    e.preventDefault();
                    const {
                        setupIntent,
                        error
                    } = await stripe.confirmCardSetup(
                        clientSecret, {
                            payment_method: {
                                card: cardElement,
                                billing_details: {
                                    name: cardHolderName.value
                                }
                            }
                        }
                    );
                    if (error) {
                        
                        document.getElementById('cardErrors').textContent = error.message;
                    } else {
                        
                        Livewire.emit('paymentMethodCreate', setupIntent.payment_method);
                    }
                });
            }
        &lt;/script&gt;
    @endslot
&lt;/div&gt;
</code></pre>
<ul>
<li class="has-line-data" data-line-start="1027" data-line-end="1028"><a href="https://laravel.com/docs/8.x/billing">Código tomado de la documentación</a>: Payment Methods For Subscriptions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1028" data-line-end="1049">Incluir la librería de <strong>Stripe</strong> y los slot <strong>css</strong> y <strong>js</strong> en la plantilla principal <strong>resources\views\layouts\app.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1030" data-line-end="1049" class="language-php">&lt;!DOCTYPE html&gt;
&lt;html lang="{{ str_replace('_', '-', app()-&gt;getLocale()) }}"&gt;
    &lt;head&gt;
        ≡
        &lt;!-- Stripe --&gt;
        &lt;script src="https://js.stripe.com/v3/"&gt;&lt;/script&gt;

        @isset($css)
            {{ $css }}
        @endisset
    &lt;/head&gt;
    &lt;body class="font-sans antialiased"&gt;
        ≡
        @isset($js)
            {{ $js }}
        @endisset
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1049" data-line-end="1054">Commit Video 11:
<ul>
<li class="has-line-data" data-line-start="1050" data-line-end="1051">$ git add .</li>
<li class="has-line-data" data-line-start="1051" data-line-end="1052">$ git commit -m “Commit 11: Agregar métodos de pago”</li>
<li class="has-line-data" data-line-start="1052" data-line-end="1054">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1054 data-line-end=1055><a id="Video_12_Agregar_un_spinner_1054"></a>Video 12. Agregar un spinner</h3>
<ul>
<li class="has-line-data" data-line-start="1055" data-line-end="1056"><strong>URL Tailwind Componente spinner</strong>: <a href="https://tailwindcomponents.com/component/spinner">https://tailwindcomponents.com/component/spinner</a></li>
</ul>
<ol>
<li class="has-line-data" data-line-start="1056" data-line-end="1074">Crear archivo de estilos resources\css\spinner.css:<pre><code class="has-line-data" data-line-start="1058" data-line-end="1074" class="language-css"><span class="hljs-class">.loader</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">border-top-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#3498db</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">-webkit-animation</span>:<span class="hljs-value"> spinner <span class="hljs-number">1.5s</span> linear infinite</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">animation</span>:<span class="hljs-value"> spinner <span class="hljs-number">1.5s</span> linear infinite</span></span>;
}</span>

<span class="hljs-at_rule">@<span class="hljs-keyword">-webkit-keyframes</span> spinner </span>{
    0% <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">-webkit-transform</span>:<span class="hljs-value"> <span class="hljs-function">rotate</span>(<span class="hljs-number">0deg</span>)</span></span>; }</span>
    100% <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">-webkit-transform</span>:<span class="hljs-value"> <span class="hljs-function">rotate</span>(<span class="hljs-number">360deg</span>)</span></span>; }</span>
}

<span class="hljs-at_rule">@<span class="hljs-keyword">keyframes</span> spinner </span>{
    0% <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">transform</span>:<span class="hljs-value"> <span class="hljs-function">rotate</span>(<span class="hljs-number">0deg</span>)</span></span>; }</span>
    100% <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">transform</span>:<span class="hljs-value"> <span class="hljs-function">rotate</span>(<span class="hljs-number">360deg</span>)</span></span>; }</span>
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1074" data-line-end="1086">Importar el nuevo estilo en <strong>resources\css\app.css</strong>:<pre><code class="has-line-data" data-line-start="1076" data-line-end="1086" class="language-php">@import <span class="hljs-string">'tailwindcss/base'</span>;
@import <span class="hljs-string">'tailwindcss/components'</span>;
@import <span class="hljs-string">'tailwindcss/utilities'</span>;

@import <span class="hljs-string">"buttons.css"</span>;
@import <span class="hljs-string">"cards.css"</span>;
@import <span class="hljs-string">"container.css"</span>;
@import <span class="hljs-string">"forms.css"</span>;
@import <span class="hljs-string">"spinner.css"</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1086" data-line-end="1088">Compilar nuevamente para agregar los nuevos estilos css:
<ul>
<li class="has-line-data" data-line-start="1087" data-line-end="1088">$ npm run dev</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1088" data-line-end="1093">Crear componente blade <strong>resources\views\components\spinner.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1090" data-line-end="1093" class="language-php">@props(['size' =&gt; '64'])
&lt;div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-{{ $size }} w-{{ $size }}"&gt;&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1093" data-line-end="1155">Modificar vista <strong>resources\views\livewire\payment-method-create.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1095" data-line-end="1155" class="language-php">&lt;div&gt;
    &lt;article class="card relative"&gt;
        &lt;div wire:loading.flex class="absolute w-full h-full bg-gray-100 bg-opacity-25 z-30 items-center justify-center"&gt;
            &lt;x-spinner size="20" /&gt;
        &lt;/div&gt;

        &lt;form action="" id="card-form"&gt;
            ≡
        &lt;/form&gt;
    &lt;/article&gt;

    @slot('js')
        &lt;script&gt;
            document.addEventListener('livewire:load', function(){
                stripe();
            })
            Livewire.on('resetStripe', function(){
                document.getElementById('card-form').reset();
                stripe();
            });
        &lt;/script&gt;
        &lt;script&gt;
            function stripe(){
                const stripe = Stripe(" {{ env('STRIPE_KEY') }} ");
                const elements = stripe.elements();
                const cardElement = elements.create('card');
                cardElement.mount('#card-element');
                //Generar token
                const cardHolderName = document.getElementById('card-holder-name');
                const cardButton = document.getElementById('card-button');
                const cardForm = document.getElementById('card-form');
                const clientSecret = cardButton.dataset.secret;
                cardForm.addEventListener('submit', async (e) =&gt; {
                    e.preventDefault();
                    const {
                        setupIntent,
                        error
                    } = await stripe.confirmCardSetup(
                        clientSecret, {
                            payment_method: {
                                card: cardElement,
                                billing_details: {
                                    name: cardHolderName.value
                                }
                            }
                        }
                    );
                    if (error) {
                        
                        document.getElementById('cardErrors').textContent = error.message;
                    } else {
                        
                        Livewire.emit('paymentMethodCreate', setupIntent.payment_method);
                    }
                });
            }
        &lt;/script&gt;
    @endslot
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1155" data-line-end="1166">Modificar el método <strong>render</strong> del controlador <strong>app\Http\Livewire\PaymentMethodCreate.php</strong>:<pre><code class="has-line-data" data-line-start="1157" data-line-end="1166" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-variable">$this</span>-&gt;emit(<span class="hljs-string">'resetStripe'</span>);
    
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.payment-method-create'</span>, [
        <span class="hljs-string">'intent'</span> =&gt; auth()-&gt;user()-&gt;createSetupIntent()
    ]);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1166" data-line-end="1171">Commit Video 12:
<ul>
<li class="has-line-data" data-line-start="1167" data-line-end="1168">$ git add .</li>
<li class="has-line-data" data-line-start="1168" data-line-end="1169">$ git commit -m “Commit 12: Agregar un spinner”</li>
<li class="has-line-data" data-line-start="1169" data-line-end="1171">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1171 data-line-end=1172><a id="Video_13_Mostrar_el_listado_de_mtodos_de_pago_agregados_1171"></a>Video 13. Mostrar el listado de métodos de pago agregados</h3>
<ol>
<li class="has-line-data" data-line-start="1172" data-line-end="1174">Crear componente livewire <strong>PaymentMethodList</strong>:
<ul>
<li class="has-line-data" data-line-start="1173" data-line-end="1174">$ php artisan make:livewire PaymentMethodList</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1174" data-line-end="1184">Redefinir el método <strong>render</strong> del controlador <strong>app\Http\Livewire\PaymentMethodList.php</strong>:<pre><code class="has-line-data" data-line-start="1176" data-line-end="1184" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// Recupera la lista de los métodos de pagos</span>
    <span class="hljs-variable">$paymentMethods</span> =auth()-&gt;user()-&gt;paymentMethods();

    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.payment-method-list'</span>, compact(<span class="hljs-string">'paymentMethods'</span>));
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1184" data-line-end="1202">Diseñar la vista <strong>resources\views\livewire\payment-method-list.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1186" data-line-end="1202" class="language-php">&lt;div&gt;
    &lt;section class="card"&gt;
        &lt;div class="px-6 py-4 bg-gray-50"&gt;
            &lt;h1 class="text-gray-700 text-lg font-bold"&gt;Métodos de pago agregado&lt;/h1&gt;
        &lt;/div&gt;
        &lt;div class="card-body divide-y divide-gray-200"&gt;
            @foreach ($paymentMethods as $paymentMethod)
                &lt;article class="text-sm text-gray-700 py-2 flex justify-between items-center"&gt;
                    &lt;h1&gt;&lt;span class="font-bold"&gt;{{ $paymentMethod-&gt;billing_details-&gt;name }}&lt;/span&gt; XXXX-{{ $paymentMethod-&gt;card-&gt;last4 }}&lt;/h1&gt;
                    &lt;p&gt;Expira: {{ $paymentMethod-&gt;card-&gt;exp_month }}/{{ $paymentMethod-&gt;card-&gt;exp_year }}&lt;/p&gt;
                &lt;/article&gt;
            @endforeach
        &lt;/div&gt;
    &lt;/section&gt;
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1202" data-line-end="1207">Commit Video 13:
<ul>
<li class="has-line-data" data-line-start="1203" data-line-end="1204">$ git add .</li>
<li class="has-line-data" data-line-start="1204" data-line-end="1205">$ git commit -m “Commit 13: Mostrar el listado de métodos de pago agregados”</li>
<li class="has-line-data" data-line-start="1205" data-line-end="1207">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1207 data-line-end=1208><a id="Video_14_Eliminar_mtodo_de_pago_1207"></a>Video 14. Eliminar método de pago</h3>
<ol>
<li class="has-line-data" data-line-start="1208" data-line-end="1209">Descargar la librería de <strong>fontawesome css</strong> y pegarla en <strong>public\vendor\fontawesome</strong>.</li>
<li class="has-line-data" data-line-start="1209" data-line-end="1229">Incluir la librería en el proyecto principal en <strong>resources\views\layouts\app.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1211" data-line-end="1228" class="language-php">&lt;!DOCTYPE html&gt;
&lt;html lang="{{ str_replace('_', '-', app()-&gt;getLocale()) }}"&gt;
    &lt;head&gt;
        ≡

        &lt;!-- Styles --&gt;
        &lt;link rel="stylesheet" href="{{ mix('css/app.css') }}"&gt;

        &lt;!-- fontawesome --&gt;
        &lt;link rel="stylesheet" href="{{ asset('vendor/fontawesome/css/all.min.css') }}"&gt;
        ≡
    &lt;/head&gt;
    &lt;body class="font-sans antialiased"&gt;
        ≡
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li class="has-line-data" data-line-start="1228" data-line-end="1229"><strong>Nota</strong>: desde ahora podemos usar todos los iconos de <strong>fontawesome</strong>.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1229" data-line-end="1258">Modificar la vista <strong>resources\views\livewire\payment-method-list.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1231" data-line-end="1258" class="language-php">&lt;div&gt;
    &lt;section class="card relative"&gt;
        &lt;div wire:loading.flex class="absolute w-full h-full bg-gray-100 bg-opacity-25 z-30 items-center justify-center"&gt;
            &lt;x-spinner size="20" /&gt;
        &lt;/div&gt;

        &lt;div class="px-6 py-4 bg-gray-50"&gt;
            &lt;h1 class="text-gray-700 text-lg font-bold"&gt;Métodos de pago agregado&lt;/h1&gt;
        &lt;/div&gt;

        &lt;div class="card-body divide-y divide-gray-200"&gt;
            @foreach ($paymentMethods as $paymentMethod)
                &lt;article class="text-sm text-gray-700 py-2 flex justify-between items-center"&gt;
                    &lt;div&gt;
                        &lt;h1&gt;&lt;span class="font-bold"&gt;{{ $paymentMethod-&gt;billing_details-&gt;name }}&lt;/span&gt; XXXX-{{ $paymentMethod-&gt;card-&gt;last4 }}&lt;/h1&gt;
                        &lt;p&gt;Expira: {{ $paymentMethod-&gt;card-&gt;exp_month }}/{{ $paymentMethod-&gt;card-&gt;exp_year }}&lt;/p&gt;
                    &lt;/div&gt;
                    &lt;div&gt;
                        {{-- &lt;i class="fas fa-star cursor-pointer p-3 hover:text-gray-700" wire:click="defaultPaymentMethod('{{$paymentMethod-&gt;id}}')"&gt;&lt;/i&gt; --}}
                        &lt;i class="fas fa-trash cursor-pointer p-3 hover:text-gray-700" wire:click="deletePaymentMethod('{{$paymentMethod-&gt;id}}')"&gt;&lt;/i&gt;                      
                    &lt;/div&gt;
                &lt;/article&gt;
            @endforeach
        &lt;/div&gt;
    &lt;/section&gt;
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1258" data-line-end="1276">Modificar el controlador <strong>app\Http\Livewire\PaymentMethodList.php</strong>:<pre><code class="has-line-data" data-line-start="1260" data-line-end="1276" class="language-php">≡
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PaymentMethodList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'render'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
    </span>{
        ≡
    }    
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deletePaymentMethod</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethodId</span>)</span></span>{
        <span class="hljs-variable">$paymentMethod</span> = auth()-&gt;user()-&gt;findPaymentMethod(<span class="hljs-variable">$paymentMethodId</span>);
        <span class="hljs-variable">$paymentMethod</span>-&gt;delete();
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1276" data-line-end="1288">Modificar el controlador <strong>app\Http\Livewire\PaymentMethodCreate.php</strong>:<pre><code class="has-line-data" data-line-start="1278" data-line-end="1288" class="language-php">≡
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PaymentMethodCreate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    ≡
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paymentMethodCreate</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethod</span>)</span></span>{
        ≡
        <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'payment-method-list'</span>, <span class="hljs-string">'render'</span>);
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1288" data-line-end="1293">Commit Video 14:
<ul>
<li class="has-line-data" data-line-start="1289" data-line-end="1290">$ git add .</li>
<li class="has-line-data" data-line-start="1290" data-line-end="1291">$ git commit -m “Commit 14: Eliminar método de pago”</li>
<li class="has-line-data" data-line-start="1291" data-line-end="1293">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1293 data-line-end=1294><a id="Video_15_Elegir_mtodo_de_pago_predeterminado_1293"></a>Video 15. Elegir método de pago predeterminado</h3>
<ul>
<li class="has-line-data" data-line-start="1294" data-line-end="1295"><strong>URL con tarjetas de prueba</strong>: <a href="https://stripe.com/docs/testing">https://stripe.com/docs/testing</a></li>
</ul>
<ol>
<li class="has-line-data" data-line-start="1295" data-line-end="1334">Modificar la vista <strong>resources\views\livewire\payment-method-list.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1297" data-line-end="1334" class="language-php">&lt;div&gt;
    &lt;section class="card relative"&gt;
        &lt;div wire:loading.flex class="absolute w-full h-full bg-gray-100 bg-opacity-25 z-30 items-center justify-center"&gt;
            &lt;x-spinner size="20" /&gt;
        &lt;/div&gt;

        &lt;div class="px-6 py-4 bg-gray-50"&gt;
            &lt;h1 class="text-gray-700 text-lg font-bold"&gt;Métodos de pago agregado&lt;/h1&gt;
        &lt;/div&gt;

        &lt;div class="card-body divide-y divide-gray-200"&gt;
            @forelse ($paymentMethods as $paymentMethod)
                &lt;article class="text-sm text-gray-700 py-2 flex justify-between items-center"&gt;
                    &lt;div&gt;
                        &lt;h1&gt;&lt;span class="font-bold"&gt;{{$paymentMethod-&gt;billing_details-&gt;name}}&lt;/span&gt; XXXX-{{$paymentMethod-&gt;card-&gt;last4}}
                            @if ($paymentMethod-&gt;id == auth()-&gt;user()-&gt;defaultPaymentMethod()-&gt;id)
                                (default)
                            @endif
                        &lt;/h1&gt;
                        &lt;p&gt;Expira: {{ $paymentMethod-&gt;card-&gt;exp_month }}/{{ $paymentMethod-&gt;card-&gt;exp_year }}&lt;/p&gt;
                    &lt;/div&gt;
                    &lt;div class="grid grid-cols-2 border border-gray-200 rounded text-gray-500 divide-x divide-gray-200"&gt;                       
                        @unless ($paymentMethod-&gt;id == auth()-&gt;user()-&gt;defaultPaymentMethod()-&gt;id)
                            &lt;i class="fas fa-star cursor-pointer p-3 hover:text-gray-700" wire:click="defaultPaymentMethod('{{$paymentMethod-&gt;id}}')"&gt;&lt;/i&gt;
                            &lt;i class="fas fa-trash cursor-pointer p-3 hover:text-gray-700" wire:click="deletePaymentMethod('{{$paymentMethod-&gt;id}}')"&gt;&lt;/i&gt;                      
                        @endunless
                    &lt;/div&gt;
                &lt;/article&gt;
            @empty
                &lt;article class="p-2"&gt;
                    &lt;h1 class="text-sm text-gray-700"&gt;No cuenta con ningún método de pago&lt;/h1&gt;
                &lt;/article&gt;
            @endforelse
        &lt;/div&gt;
    &lt;/section&gt;
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1334" data-line-end="1340">Agragar el método <strong>defaultPaymentMethod</strong> en el controlador <strong>app\Http\Livewire\PaymentMethodList.php</strong>:<pre><code class="has-line-data" data-line-start="1336" data-line-end="1340" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defaultPaymentMethod</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethodId</span>)</span></span>{
    auth()-&gt;user()-&gt;updateDefaultPaymentMethod(<span class="hljs-variable">$paymentMethodId</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1340" data-line-end="1352">Modificar el método <strong>paymentMethodCreate</strong> del controlador <strong>app\Http\Livewire\PaymentMethodCreate.php</strong>:<pre><code class="has-line-data" data-line-start="1342" data-line-end="1352" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paymentMethodCreate</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethod</span>)</span></span>{
    <span class="hljs-keyword">if</span> (auth()-&gt;user()-&gt;hasPaymentMethod()) {
        auth()-&gt;user()-&gt;addPaymentMethod(<span class="hljs-variable">$paymentMethod</span>);
    }<span class="hljs-keyword">else</span>{
        auth()-&gt;user()-&gt;updateDefaultPaymentMethod(<span class="hljs-variable">$paymentMethod</span>);
    }
    
    <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'payment-method-list'</span>, <span class="hljs-string">'render'</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1352" data-line-end="1357">Commit Video 15:
<ul>
<li class="has-line-data" data-line-start="1353" data-line-end="1354">$ git add .</li>
<li class="has-line-data" data-line-start="1354" data-line-end="1355">$ git commit -m “Commit 15: Elegir método de pago predeterminado”</li>
<li class="has-line-data" data-line-start="1355" data-line-end="1357">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=1357 data-line-end=1358><a id="Seccin_4_Suscripciones_1357"></a>Sección 4: Suscripciones</h2>
<h3 class="code-line" data-line-start=1359 data-line-end=1360><a id="Video_16_Crear_suscripciones_en_Stripe_1359"></a>Video 16. Crear suscripciones en Stripe</h3>
<ol>
<li class="has-line-data" data-line-start="1360" data-line-end="1361">Ingresar a nuestra cuenta en <a href="https://stripe.com/es-us">Stripe</a></li>
<li class="has-line-data" data-line-start="1361" data-line-end="1381">Ir a <strong>Productos</strong> y luego hacer clic en <strong>+ Añadir producto</strong>:
<ul>
<li class="has-line-data" data-line-start="1362" data-line-end="1381">Información del producto:
<ul>
<li class="has-line-data" data-line-start="1363" data-line-end="1365">Datos del producto:
<ul>
<li class="has-line-data" data-line-start="1364" data-line-end="1365">Nombre: Servicios Sefar Universal</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1365" data-line-end="1380">Información sobre precios:
<ul>
<li class="has-line-data" data-line-start="1366" data-line-end="1367">Modelo de tarifas: Tarifas estándar</li>
<li class="has-line-data" data-line-start="1367" data-line-end="1369">Precio: 9.99 USD
<ul>
<li class="has-line-data" data-line-start="1368" data-line-end="1369">Recurrente</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1369" data-line-end="1370">Periodo de facturación: Cada mes</li>
<li class="has-line-data" data-line-start="1370" data-line-end="1371">Precionar: <strong>+ Añadir otro precio</strong></li>
<li class="has-line-data" data-line-start="1371" data-line-end="1372">Modelo de tarifas: Tarifas estándar</li>
<li class="has-line-data" data-line-start="1372" data-line-end="1374">Precio: 19.99 USD
<ul>
<li class="has-line-data" data-line-start="1373" data-line-end="1374">Recurrente</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1374" data-line-end="1375">Periodo de facturación: Cada 3 meses</li>
<li class="has-line-data" data-line-start="1375" data-line-end="1376">Precionar: <strong>+ Añadir otro precio</strong></li>
<li class="has-line-data" data-line-start="1376" data-line-end="1377">Modelo de tarifas: Tarifas estándar</li>
<li class="has-line-data" data-line-start="1377" data-line-end="1379">Precio: 89.99 USD
<ul>
<li class="has-line-data" data-line-start="1378" data-line-end="1379">Recurrente</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1379" data-line-end="1380">Periodo de facturación: Cada año</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1380" data-line-end="1381">Precionar: <strong>Guardar producto</strong></li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1381" data-line-end="1386">Commit Video 16:
<ul>
<li class="has-line-data" data-line-start="1382" data-line-end="1383">$ git add .</li>
<li class="has-line-data" data-line-start="1383" data-line-end="1384">$ git commit -m “Commit 16: Crear suscripciones en Stripe”</li>
<li class="has-line-data" data-line-start="1384" data-line-end="1386">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1386 data-line-end=1387><a id="Video_17_Incluir_suscripciones_en_nuestra_plataforma_1386"></a>Video 17. Incluir suscripciones en nuestra plataforma</h3>
<ol>
<li class="has-line-data" data-line-start="1387" data-line-end="1389">Crear componente de livewire <strong>Subscriptions</strong>:
<ul>
<li class="has-line-data" data-line-start="1388" data-line-end="1389">$ php artisan make:livewire Subscriptions</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1389" data-line-end="1404">Incluir el componente en la vista <strong>resources\views\billing\index.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1391" data-line-end="1404" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="pb-12"&gt;
        @livewire('subscriptions')
        &lt;div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
            @livewire('payment-method-create')

            &lt;div class="my-8"&gt;
                @livewire('payment-method-list')
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1404" data-line-end="1412">Crear componente de blade <strong>resources\views\components\button-subscription.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1406" data-line-end="1412" class="language-php">@props(['name', 'price'])

&lt;div class="w-full"&gt;
    &lt;button class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full"&gt;Subcribirse&lt;/button&gt;
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1412" data-line-end="1469">Diseñar la vista <strong>resources\views\livewire\subscriptions.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1414" data-line-end="1467" class="language-php">&lt;div class="w-full mx-auto px-5 py-10 text-gray-600 mb-10"&gt;
    &lt;div class="text-center max-w-xl mx-auto"&gt;
        &lt;h1 class="text-5xl md:text-6xl font-bold mb-5"&gt;Pricing&lt;/h1&gt;
        &lt;h3 class="text-xl font-medium mb-10"&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit repellat dignissimos laboriosam odit accusamus porro&lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="max-w-4xl mx-auto md:flex"&gt;
        {{-- Plan mensual --}}
        &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:my-6 rounded-md shadow-lg shadow-gray-600 md:flex md:flex-col"&gt;
            &lt;div class="w-full flex-grow"&gt;
                &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN MENSUAL&lt;/h2&gt;
                &lt;h3 class="text-center font-bold text-4xl mb-5"&gt;$9.99&lt;/h3&gt;
                &lt;ul class="text-sm px-5 mb-8"&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
            &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8geZ0KffEI" /&gt;
        &lt;/div&gt;

        {{-- Plan trimestral --}}
        &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:-mx-3 md:mb-0 rounded-md shadow-lg shadow-gray-600 md:relative md:z-50 md:flex md:flex-col"&gt;
            &lt;div class="w-full flex-grow"&gt;
                &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN TRIMESTRAL&lt;/h2&gt;
                &lt;h3 class="text-center font-bold text-4xl md:text-5xl mb-5"&gt;$19.99&lt;/h3&gt;
                &lt;ul class="text-sm px-5 mb-8"&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Consectetur&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Adipisicing&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Elit repellat&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
            &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8gA4SNnBw6" /&gt;
        &lt;/div&gt;

        {{-- Plan anual --}}
        &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:my-6 rounded-md shadow-lg shadow-gray-600 md:flex md:flex-col"&gt;
            &lt;div class="w-full flex-grow"&gt;
                &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN ANUAL&lt;/h2&gt;
                &lt;h3 class="text-center font-bold text-4xl mb-5"&gt;$89.99&lt;/h3&gt;
                &lt;ul class="text-sm px-5 mb-8"&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Consectetur&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Adipisicing&lt;/li&gt;
                    &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Much more...&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
            &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8gyvdJbORd" /&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li class="has-line-data" data-line-start="1467" data-line-end="1468"><strong>Nota 1</strong>: Para el diseño de esta vista se tomó código de esta página: <a href="https://tailwindcomponents.com/component/pricing-table-wireframes-1">https://tailwindcomponents.com/component/pricing-table-wireframes-1</a></li>
<li class="has-line-data" data-line-start="1468" data-line-end="1469"><strong>Nota 2</strong>: Los valores que se envían como parámetros cuando se invoca al componente blade <strong>button-subscription</strong> provienen del producto <strong>Servicios Sefar Universal</strong> creado en la página de Stripe.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1469" data-line-end="1474">Commit Video 17:
<ul>
<li class="has-line-data" data-line-start="1470" data-line-end="1471">$ git add .</li>
<li class="has-line-data" data-line-start="1471" data-line-end="1472">$ git commit -m “Commit 17: Incluir suscripciones en nuestra plataforma”</li>
<li class="has-line-data" data-line-start="1472" data-line-end="1474">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1474 data-line-end=1475><a id="Video_18_Iniciar_suscripcion_1474"></a>Video 18. Iniciar suscripcion</h3>
<ol>
<li class="has-line-data" data-line-start="1475" data-line-end="1509">Modificar el componente <strong>resources\views\components\button-subscription.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1477" data-line-end="1509" class="language-php">@props(['name', 'price'])

&lt;div class="w-full"&gt;
    @if (auth()-&gt;user()-&gt;subscribed($name))
        @if (auth()-&gt;user()-&gt;subscribedToPrice($price, $name))
            &lt;button 
                class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                Cancelar
            &lt;/button&gt;   
        @else
            &lt;button 
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                Cambiar de plan
            &lt;/button&gt;
        @endif   
    @else
        &lt;button wire:click="newSubscription('{{ $name }}', '{{ $price }}')"
            wire:loading.remove
            wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full flex items-center justify-center"&gt;
            Subcribirse
        &lt;/button&gt;

        &lt;button wire:loading.flex
            wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
            &lt;x-spinner size=6 class="mr-2" /&gt;
            Subcribirse
        &lt;/button&gt;
    @endif
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1509" data-line-end="1516">Modificar el componente <strong>resources\views\components\spinner.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1511" data-line-end="1516" class="language-php">@props([<span class="hljs-string">'size'</span> =&gt; <span class="hljs-string">'64'</span>])
&lt;div {{ <span class="hljs-variable">$attributes</span>-&gt;merge([
    <span class="hljs-string">"class"</span> =&gt; <span class="hljs-string">"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-$size w-$size"</span>
]) }}&gt;&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1516" data-line-end="1522">Crear el método <strong>newSubscription</strong> en el controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="1518" data-line-end="1522" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newSubscription</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)</span></span>{
    auth()-&gt;user()-&gt;newSubscription(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)-&gt;create();
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1522" data-line-end="1527">Commit Video 18:
<ul>
<li class="has-line-data" data-line-start="1523" data-line-end="1524">$ git add .</li>
<li class="has-line-data" data-line-start="1524" data-line-end="1525">$ git commit -m “Commit 18: Iniciar suscripcion”</li>
<li class="has-line-data" data-line-start="1525" data-line-end="1527">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1527 data-line-end=1528><a id="Video_19_Cambiar_de_plan_1527"></a>Video 19. Cambiar de plan</h3>
<ol>
<li class="has-line-data" data-line-start="1528" data-line-end="1571">Modificar el componente blade <strong>resources\views\components\button-subscription.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1530" data-line-end="1571" class="language-php">@props(['name', 'price'])

&lt;div class="w-full"&gt;
    @if (auth()-&gt;user()-&gt;subscribed($name))
        @if (auth()-&gt;user()-&gt;subscribedToPrice($price, $name))
            &lt;button 
                class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                Cancelar
            &lt;/button&gt;   
        @else
            &lt;button wire:click="changingPlans('{{ $name }}', '{{ $price }}')"
                wire:loading.remove
                wire:target="changingPlans('{{ $name }}', '{{ $price }}')"
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                Cambiar de plan
            &lt;/button&gt;

            &lt;button wire:loading.flex
                wire:target="changingPlans('{{ $name }}', '{{ $price }}')"
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                &lt;x-spinner size=6 class="mr-2" /&gt;
                Cambiar de plan
            &lt;/button&gt;
        @endif   
    @else
        &lt;button wire:click="newSubscription('{{ $name }}', '{{ $price }}')"
            wire:loading.remove
            wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full flex items-center justify-center"&gt;
            Subcribirse
        &lt;/button&gt;

        &lt;button wire:loading.flex
            wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
            &lt;x-spinner size=6 class="mr-2" /&gt;
            Subcribirse
        &lt;/button&gt;
    @endif
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1571" data-line-end="1577">Crear el método <strong>changingPlans</strong> en el controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="1573" data-line-end="1577" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changingPlans</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)</span></span>{
    auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$name</span>)-&gt;swap(<span class="hljs-variable">$price</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1577" data-line-end="1582">Commit Video 19:
<ul>
<li class="has-line-data" data-line-start="1578" data-line-end="1579">$ git add .</li>
<li class="has-line-data" data-line-start="1579" data-line-end="1580">$ git commit -m “Commit 19: Cambiar de plan”</li>
<li class="has-line-data" data-line-start="1580" data-line-end="1582">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1582 data-line-end=1583><a id="Video_20_Cancelar_y_reanudar_suscripcin_1582"></a>Video 20. Cancelar y reanudar suscripción</h3>
<ol>
<li class="has-line-data" data-line-start="1583" data-line-end="1651">Modificar la vista <strong>resources\views\components\button-subscription.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1585" data-line-end="1651" class="language-php">@props(['name', 'price'])

&lt;div class="w-full"&gt;
    @if (auth()-&gt;user()-&gt;subscribed($name))
        @if (auth()-&gt;user()-&gt;subscribedToPrice($price, $name))
            @if (auth()-&gt;user()-&gt;subscription($name)-&gt;onGracePeriod())
                &lt;button wire:click="resuminSubscription('{{ $name }}')"
                    wire:loading.remove
                    wire:target="resuminSubscription('{{ $name }}')"
                    class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    Reanudar plan
                &lt;/button&gt;

                &lt;button wire:loading.flex
                    wire:target="resuminSubscription('{{ $name }}')"
                    class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    &lt;x-spinner size=6 class="mr-2" /&gt;
                    Reanudar plan
                &lt;/button&gt;               
            @else
                &lt;button wire:click="cancellingSubscription('{{ $name }}')"
                    wire:loading.remove
                    wire:target="cancellingSubscription('{{ $name }}')"
                    class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    Cancelar
                &lt;/button&gt;

                &lt;button wire:loading.flex
                    wire:target="cancellingSubscription('{{ $name }}')"
                    class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    &lt;x-spinner size=6 class="mr-2" /&gt;
                    Cancelar
                &lt;/button&gt;
            @endif
        @else
            &lt;button wire:click="changingPlans('{{ $name }}', '{{ $price }}')"
                wire:loading.remove
                wire:target="changingPlans('{{ $name }}', '{{ $price }}')"
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                Cambiar de plan
            &lt;/button&gt;

            &lt;button wire:loading.flex
                wire:target="changingPlans('{{ $name }}', '{{ $price }}')"
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                &lt;x-spinner size=6 class="mr-2" /&gt;
                Cambiar de plan
            &lt;/button&gt;
        @endif   
    @else
        &lt;button wire:click="newSubscription('{{ $name }}', '{{ $price }}')"
            wire:loading.remove
            wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full flex items-center justify-center"&gt;
            Subcribirse
        &lt;/button&gt;

        &lt;button wire:loading.flex
            wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
            &lt;x-spinner size=6 class="mr-2" /&gt;
            Subcribirse
        &lt;/button&gt;
    @endif
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1651" data-line-end="1657">Crear el método <strong>cancellingSubscription</strong> en el controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="1653" data-line-end="1657" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancellingSubscription</span><span class="hljs-params">(<span class="hljs-variable">$name</span>)</span></span>{
    auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$name</span>)-&gt;cancel();
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1657" data-line-end="1663">Crear el método <strong>resuminSubscription</strong> en el controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="1659" data-line-end="1663" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resuminSubscription</span><span class="hljs-params">(<span class="hljs-variable">$name</span>)</span></span>{
    auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$name</span>)-&gt;resume();
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1663" data-line-end="1668">Commit Video 20:
<ul>
<li class="has-line-data" data-line-start="1664" data-line-end="1665">$ git add .</li>
<li class="has-line-data" data-line-start="1665" data-line-end="1666">$ git commit -m “Commit 20: Cancelar y reanudar suscripción”</li>
<li class="has-line-data" data-line-start="1666" data-line-end="1668">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1668 data-line-end=1669><a id="Video_21_Solicitar_mtodo_de_pago_1668"></a>Video 21. Solicitar método de pago</h3>
<ol>
<li class="has-line-data" data-line-start="1669" data-line-end="1744">Modificar vista <strong>resources\views\components\button-subscription.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1671" data-line-end="1744" class="language-php">@props(['name', 'price'])

&lt;div class="w-full"&gt;
    @if (auth()-&gt;user()-&gt;hasDefaultPaymentMethod())
        @if (auth()-&gt;user()-&gt;subscribed($name))
            @if (auth()-&gt;user()-&gt;subscribedToPrice($price, $name))
                @if (auth()-&gt;user()-&gt;subscription($name)-&gt;onGracePeriod())
                    &lt;button wire:click="resuminSubscription('{{ $name }}')"
                        wire:loading.remove
                        wire:target="resuminSubscription('{{ $name }}')"
                        class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                        Reanudar plan
                    &lt;/button&gt;

                    &lt;button wire:loading.flex
                        wire:target="resuminSubscription('{{ $name }}')"
                        class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                        &lt;x-spinner size=6 class="mr-2" /&gt;
                        Reanudar plan
                    &lt;/button&gt;               
                @else
                    &lt;button wire:click="cancellingSubscription('{{ $name }}')"
                        wire:loading.remove
                        wire:target="cancellingSubscription('{{ $name }}')"
                        class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                        Cancelar
                    &lt;/button&gt;

                    &lt;button wire:loading.flex
                        wire:target="cancellingSubscription('{{ $name }}')"
                        class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                        &lt;x-spinner size=6 class="mr-2" /&gt;
                        Cancelar
                    &lt;/button&gt;
                @endif
            @else
                &lt;button wire:click="changingPlans('{{ $name }}', '{{ $price }}')"
                    wire:loading.remove
                    wire:target="changingPlans('{{ $name }}', '{{ $price }}')"
                    class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    Cambiar de plan
                &lt;/button&gt;

                &lt;button wire:loading.flex
                    wire:target="changingPlans('{{ $name }}', '{{ $price }}')"
                    class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    &lt;x-spinner size=6 class="mr-2" /&gt;
                    Cambiar de plan
                &lt;/button&gt;
            @endif   
        @else
            &lt;button wire:click="newSubscription('{{ $name }}', '{{ $price }}')"
                wire:loading.remove
                wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full flex items-center justify-center"&gt;
                Subcribirse
            &lt;/button&gt;

            &lt;button wire:loading.flex
                wire:target="newSubscription('{{ $name }}', '{{ $price }}')"
                class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                &lt;x-spinner size=6 class="mr-2" /&gt;
                Subcribirse
            &lt;/button&gt;
        @endif
    @else
        &lt;button
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
            Agregar método de pago
        &lt;/button&gt;
    @endif
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1744" data-line-end="1751">Modificar el método <strong>paymentMethodCreate</strong> del controlador <strong>app\Http\Livewire\PaymentMethodCreate.php</strong>:<pre><code class="has-line-data" data-line-start="1746" data-line-end="1751" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paymentMethodCreate</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethod</span>)</span></span>{
    ≡
    <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'subscriptions'</span>, <span class="hljs-string">'render'</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1751" data-line-end="1760">Modificar el controlador <strong>app\Http\Livewire\Subscriptions.php</strong> para la escucha del método <strong>render</strong>:<pre><code class="has-line-data" data-line-start="1753" data-line-end="1760" class="language-php">≡
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Subscriptions</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'render'</span>];
    ≡
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1760" data-line-end="1765">Commit Video 21:
<ul>
<li class="has-line-data" data-line-start="1761" data-line-end="1762">$ git add .</li>
<li class="has-line-data" data-line-start="1762" data-line-end="1763">$ git commit -m “Commit 21: Solicitar método de pago”</li>
<li class="has-line-data" data-line-start="1763" data-line-end="1765">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1765 data-line-end=1766><a id="Video_22_Proteger_rutas_1765"></a>Video 22. Proteger rutas</h3>
<ol>
<li class="has-line-data" data-line-start="1766" data-line-end="1768">Crear middleware <strong>EnsureUserIsSubscribed</strong>:
<ul>
<li class="has-line-data" data-line-start="1767" data-line-end="1768">$ php artisan make:middleware EnsureUserIsSubscribed</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1768" data-line-end="1781">Redifinir el método <strong>handle</strong> del middleware <strong>app\Http\Middleware\EnsureUserIsSubscribed.php</strong>:<pre><code class="has-line-data" data-line-start="1770" data-line-end="1780" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span><span class="hljs-params">(Request <span class="hljs-variable">$request</span>, Closure <span class="hljs-variable">$next</span>)</span>
</span>{       
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$request</span>-&gt;user() &amp;&amp; ! <span class="hljs-variable">$request</span>-&gt;user()-&gt;subscribed(<span class="hljs-string">'Servicios Sefar Universal'</span>)) {
        <span class="hljs-comment">// This user is not a paying customer...</span>
        <span class="hljs-keyword">return</span> redirect(<span class="hljs-string">'billing'</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
}
</code></pre>
<ul>
<li class="has-line-data" data-line-start="1780" data-line-end="1781"><strong>Nota</strong>: código copiado de <a href="https://laravel.com/docs/8.x/billing">https://laravel.com/docs/8.x/billing</a></li>
</ul>
</li>
<li class="has-line-data" data-line-start="1781" data-line-end="1793">Registrar el middleware en el kernel <strong>app\Http\Kernel.php</strong>:<pre><code class="has-line-data" data-line-start="1783" data-line-end="1793" class="language-php">≡
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Kernel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpKernel</span>
</span>{
    ≡
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$routeMiddleware</span> = [
        ≡
        <span class="hljs-string">'subscription'</span> =&gt; \App\Http\Middleware\EnsureUserIsSubscribed::class,
    ];
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1793" data-line-end="1797">Agregar middleware a la ruta <strong>articles.show</strong> en el archivo <strong>routes\web.php</strong>:<pre><code class="has-line-data" data-line-start="1795" data-line-end="1797" class="language-php">Route::get(<span class="hljs-string">'articles/{article}'</span>, [ArticleController::class, <span class="hljs-string">'show'</span>])-&gt;middleware(<span class="hljs-string">'subscription'</span>, <span class="hljs-string">'auth'</span>)-&gt;name(<span class="hljs-string">'articles.show'</span>);
</code></pre>
</li>
<li class="has-line-data" data-line-start="1797" data-line-end="1802">Commit Video 22:
<ul>
<li class="has-line-data" data-line-start="1798" data-line-end="1799">$ git add .</li>
<li class="has-line-data" data-line-start="1799" data-line-end="1800">$ git commit -m “Commit 22: Proteger rutas”</li>
<li class="has-line-data" data-line-start="1800" data-line-end="1802">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=1802 data-line-end=1803><a id="Seccin_5_Facturas_1802"></a>Sección 5: Facturas</h2>
<h3 class="code-line" data-line-start=1804 data-line-end=1805><a id="Video_23_Mostrar_facturas_1804"></a>Video 23. Mostrar facturas</h3>
<ol>
<li class="has-line-data" data-line-start="1805" data-line-end="1807">Crear componente livewire <strong>Invoices</strong>:
<ul>
<li class="has-line-data" data-line-start="1806" data-line-end="1807">$ php artisan make:livewire Invoices</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1807" data-line-end="1824">Modificar la vista <strong>resources\views\billing\index.blade.php</strong> para agregar el componente <strong>Invoices</strong>:<pre><code class="has-line-data" data-line-start="1809" data-line-end="1824" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="pb-12"&gt;
        @livewire('subscriptions')
        &lt;div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
            @livewire('payment-method-create')

            &lt;div class="my-8"&gt;
                @livewire('payment-method-list')
            &lt;/div&gt;

            @livewire('invoices')
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1824" data-line-end="1861">Diseñar la vista del nuevo componente <strong>resources\views\livewire\invoices.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1826" data-line-end="1861" class="language-php">&lt;div class="card relative"&gt;
    &lt;div wire:loading.flex class="absolute w-full h-full bg-gray-100 bg-opacity-25 z-30 items-center justify-center"&gt;
        &lt;x-spinner size="20" /&gt;
    &lt;/div&gt;

    &lt;div class="card-body"&gt;
        &lt;table class="w-full"&gt;
            &lt;thead&gt;
                &lt;tr class="text-left"&gt;
                    &lt;th class="w-1/2 px-4 py-2"&gt;Fecha&lt;/th&gt;
                    &lt;th class="w-1/4 px-4 py-2"&gt;Dólares&lt;/th&gt;
                    &lt;th class="w-1/4 px-4 py-2"&gt;&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody class="divide-y divide-gray-200"&gt;
                @forelse ($invoices as $invoice)
                    &lt;tr&gt;
                        &lt;td class="px-4 py-3"&gt;{{ $invoice-&gt;date()-&gt;toFormattedDateString() }}&lt;/td&gt;
                        &lt;td class="px-4 py-3"&gt;{{ $invoice-&gt;total() }}&lt;/td&gt;
                        &lt;td class="px-4 py-3 text-right"&gt;
                            &lt;a class="btn btn-primary" href="/user/invoice/{{ $invoice-&gt;id }}"&gt;Descargar&lt;/a&gt;
                        &lt;/td&gt;
                    &lt;/tr&gt;
                @empty
                    &lt;tr&gt;
                        &lt;td colspan="3" class="px-4 py-3 text-gray-700"&gt;
                            No tiene facturas registradas
                        &lt;/td&gt;
                    &lt;/tr&gt;
                @endforelse
            &lt;/tbody&gt;
        &lt;/table&gt;        
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1861" data-line-end="1881">Redefinir el controlador del nuevo componente <strong>app\Http\Livewire\Invoices.php</strong>:<pre><code class="has-line-data" data-line-start="1863" data-line-end="1881" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Livewire</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Livewire</span>\<span class="hljs-title">Component</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Invoices</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'render'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-variable">$invoices</span> = auth()-&gt;user()-&gt;invoices();

        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.invoices'</span>, compact(<span class="hljs-string">'invoices'</span>));
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1881" data-line-end="1888">Modificar el método <strong>newSubscription</strong> del controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="1883" data-line-end="1888" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newSubscription</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)</span></span>{
    auth()-&gt;user()-&gt;newSubscription(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)-&gt;create();
    <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'invoices'</span>, <span class="hljs-string">'render'</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1888" data-line-end="1895">Modificar el método <strong>changingPlans</strong> del controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="1890" data-line-end="1895" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changingPlans</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)</span></span>{
    auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$name</span>)-&gt;swap(<span class="hljs-variable">$price</span>);
    <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'invoices'</span>, <span class="hljs-string">'render'</span>);
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1895" data-line-end="1900">Commit Video 23:
<ul>
<li class="has-line-data" data-line-start="1896" data-line-end="1897">$ git add .</li>
<li class="has-line-data" data-line-start="1897" data-line-end="1898">$ git commit -m “Commit 23: Mostrar facturas”</li>
<li class="has-line-data" data-line-start="1898" data-line-end="1900">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1900 data-line-end=1901><a id="Video_24_Descargar_facturas_1900"></a>Video 24. Descargar facturas</h3>
<ol>
<li class="has-line-data" data-line-start="1901" data-line-end="1914">Agregar ruta para descargar facturas en <strong>routes\web.php</strong>:<pre><code class="has-line-data" data-line-start="1903" data-line-end="1910" class="language-php">Route::get(<span class="hljs-string">'/user/invoice/{invoice}'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Request <span class="hljs-variable">$request</span>, <span class="hljs-variable">$invoiceId</span>)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$request</span>-&gt;user()-&gt;downloadInvoice(<span class="hljs-variable">$invoiceId</span>, [
        <span class="hljs-string">'vendor'</span> =&gt; <span class="hljs-string">'Sefar Universal'</span>,
        <span class="hljs-string">'product'</span> =&gt; <span class="hljs-string">'Servicio de Nacionalidad'</span>,
    ]);
});
</code></pre>
<ul>
<li class="has-line-data" data-line-start="1910" data-line-end="1911">Importar la definición de la clase <strong>Request</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="1912" data-line-end="1914" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1914" data-line-end="1919">Commit Video 23:
<ul>
<li class="has-line-data" data-line-start="1915" data-line-end="1916">$ git add .</li>
<li class="has-line-data" data-line-start="1916" data-line-end="1917">$ git commit -m “Commit 23: Mostrar facturas”</li>
<li class="has-line-data" data-line-start="1917" data-line-end="1919">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=1919 data-line-end=1920><a id="Seccin_6_Mtodos_de_pagos_nicos_1919"></a>Sección 6: Métodos de pagos únicos</h2>
<h3 class="code-line" data-line-start=1921 data-line-end=1922><a id="Video_25_Vista_de_venta_de_productos_1921"></a>Video 25. Vista de venta de productos</h3>
<ol>
<li class="has-line-data" data-line-start="1922" data-line-end="1926">Crear ruta para comprar un producto en <strong>routes\web.php</strong>:<pre><code class="has-line-data" data-line-start="1924" data-line-end="1926" class="language-php">Route::get(<span class="hljs-string">'products/{product}/pay'</span>, [ProductController::class, <span class="hljs-string">'pay'</span>])-&gt;middleware(<span class="hljs-string">'auth'</span>)-&gt;name(<span class="hljs-string">'products.pay'</span>);
</code></pre>
</li>
<li class="has-line-data" data-line-start="1926" data-line-end="1932">Crear el método <strong>pay</strong> en el controlador <strong>app\Http\Controllers\ProductController.php</strong>:<pre><code class="has-line-data" data-line-start="1928" data-line-end="1932" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pay</span><span class="hljs-params">(Product <span class="hljs-variable">$product</span>)</span></span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'products.pay'</span>, compact(<span class="hljs-string">'product'</span>));
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="1932" data-line-end="1951">Modificar la vista <strong>resources\views\welcome.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1934" data-line-end="1951" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="container py-10"&gt;
        &lt;div class="grid grid-cols-3 gap-6"&gt;
            @foreach ($products as $product)
                &lt;div class="card"&gt;
                    &lt;div class="px-4 py-2 bg-gray-900 flex justify-between items-center"&gt;
                        &lt;p class="text-gray-200 font-bold text-xl"&gt;{{ $product-&gt;price }} USD&lt;/p&gt;
                        &lt;a href="{{ route('products.pay', $product) }}" class="btn btn-secondary"&gt;Comprar&lt;/a&gt;
                    &lt;/div&gt;
                    ≡
                &lt;/div&gt;
            @endforeach
            ≡
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1951" data-line-end="1979">Crear vista <strong>resources\views\products\pay.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1953" data-line-end="1979" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="container py-12 grid grid-cols-12 gap-6"&gt;
        &lt;div class="col-span-7"&gt;
            &lt;article class="card"&gt;
                &lt;div class="card-body"&gt;
                    &lt;div class="flex"&gt;
                        &lt;img class="w-48 h-28 object-cover" src="{{Storage::url($product-&gt;image)}}" alt=""&gt;
                        &lt;div class="ml-4 flex justify-between items-center self-start flex-1"&gt;
                            &lt;h1 class="text-gray-500 font-bold text-lg uppercase"&gt;{{$product-&gt;title}}&lt;/h1&gt;
                            &lt;p class="font-bold text-gray-500"&gt;{{$product-&gt;price}} USD&lt;/p&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                
                    &lt;hr class="my-4"&gt;

                    &lt;p class="text-sm text-gray-500"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi incidunt doloribus vel omnis minus blanditiis accusamus? Sed, tempora, autem quam quisquam
                    &lt;a class="text-blue-500 font-bold" href=""&gt;Terminos y condiciones&lt;/a&gt;&lt;/p&gt;
                &lt;/div&gt;
            &lt;/article&gt;
        &lt;/div&gt;

        &lt;div class="col-span-5"&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="1979" data-line-end="1984">Commit Video 25:
<ul>
<li class="has-line-data" data-line-start="1980" data-line-end="1981">$ git add .</li>
<li class="has-line-data" data-line-start="1981" data-line-end="1982">$ git commit -m “Commit 25: Vista de venta de productos”</li>
<li class="has-line-data" data-line-start="1982" data-line-end="1984">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=1984 data-line-end=1985><a id="Video_26_Crear_mtodo_de_pago_nico_1984"></a>Video 26. Crear método de pago único</h3>
<ol>
<li class="has-line-data" data-line-start="1985" data-line-end="1987">Crear componente de livewire <strong>ProductPay</strong>:
<ul>
<li class="has-line-data" data-line-start="1986" data-line-end="1987">$ php artisan make:livewire ProductPay</li>
</ul>
</li>
<li class="has-line-data" data-line-start="1987" data-line-end="2001">Incluir componente <strong>product-pay</strong> en la vista <strong>resources\views\products\pay.blade.php</strong>:<pre><code class="has-line-data" data-line-start="1989" data-line-end="2001" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="container py-12 grid grid-cols-12 gap-6"&gt;
        &lt;div class="col-span-7"&gt;
            ≡
        &lt;/div&gt;

        &lt;div class="col-span-5"&gt;
            @livewire('product-pay', ['product' =&gt; $product])
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2001" data-line-end="2031">Redefinir el controlador del componente <strong>app\Http\Livewire\ProductPay.php</strong>:<pre><code class="has-line-data" data-line-start="2003" data-line-end="2031" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Livewire</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Product</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Livewire</span>\<span class="hljs-title">Component</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductPay</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$product</span>;

    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'paymentMethodCreate'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span><span class="hljs-params">(Product <span class="hljs-variable">$product</span>)</span></span>{
        <span class="hljs-variable">$this</span>-&gt;product = <span class="hljs-variable">$product</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.product-pay'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paymentMethodCreate</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethod</span>)</span></span>{
        auth()-&gt;user()-&gt;charge(<span class="hljs-variable">$this</span>-&gt;product-&gt;price * <span class="hljs-number">100</span>, <span class="hljs-variable">$paymentMethod</span>);
        <span class="hljs-variable">$this</span>-&gt;emit(<span class="hljs-string">'resetStripe'</span>);
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2031" data-line-end="2114">Diseñar la vista del componente <strong>resources\views\livewire\product-pay.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2033" data-line-end="2114" class="language-php">&lt;div&gt;
    &lt;div class="card relative"&gt;
        &lt;div wire:loading.flex class="absolute w-full h-full bg-gray-100 bg-opacity-25 z-30 items-center justify-center"&gt;
            &lt;x-spinner size="20" /&gt;
        &lt;/div&gt;

        &lt;div class="card-body"&gt;
            &lt;div class="flex justify-between items-center mb-4"&gt;
                &lt;h1 class="text-lg font-bold text-gray-700"&gt;Método de pago&lt;/h1&gt;
                &lt;img class="h-8" src="https://leadershipmemphis.org/wp-content/uploads/2020/08/780370.png" alt="Métodos de pago"&gt;
            &lt;/div&gt;
            &lt;form id="card-form"&gt;
                &lt;div class="form-group"&gt;
                    &lt;label class="form-label"&gt;Nombre de la tarjeta&lt;/label&gt;
                    &lt;input class="form-control" id="card-holder-name" type="text" placeholder="Ingrese el nombre del títular de la tarjeta" required&gt;
                &lt;/div&gt;
    
                &lt;!-- Stripe Elements Placeholder --&gt;
                &lt;div class="form-group"&gt;
                    &lt;label class="form-label"&gt;Número de tarjeta&lt;/label&gt;
                    &lt;div class="form-control" id="card-element"&gt;&lt;/div&gt;

                    &lt;span class="invalid-feedback" id="card-error"&gt;&lt;/span&gt;
                &lt;/div&gt;
                
                &lt;button class="btn btn-primary" id="card-button"&gt;
                    Procesar pago
                &lt;/button&gt;
            &lt;/form&gt;           
        &lt;/div&gt;
    &lt;/div&gt;

    @slot('js')
        &lt;script&gt;
            document.addEventListener('livewire:load', function(){
                stripe();
            })

            Livewire.on('resetStripe', function(){
                document.getElementById('card-form').reset();
                stripe();

                alert('La compra se realizó con éxito');
            })
        &lt;/script&gt;

        &lt;script&gt;
            function stripe(){
                const stripe = Stripe("{{ env('STRIPE_KEY') }}");
            
                const elements = stripe.elements();
                const cardElement = elements.create('card');
            
                cardElement.mount('#card-element');

                // Método de pago
                const cardHolderName = document.getElementById('card-holder-name');
                const cardButton = document.getElementById('card-button');
                const cardForm = document.getElementById('card-form');

                cardForm.addEventListener('submit', async (e) =&gt; {
                    e.preventDefault();
                    const { paymentMethod, error } = await stripe.createPaymentMethod(
                        'card', cardElement, {
                            billing_details: { name: cardHolderName.value }
                        }
                    );

                    if (error) {
                        // Display "error.message" to the user...
                        document.getElementById('card-error').textContent = error.message;
                    } else {
                        // The card has been verified successfully...
                        Livewire.emit('paymentMethodCreate', paymentMethod.id);
                    }
                });
            }
        &lt;/script&gt;
    @endslot
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2114" data-line-end="2119">Commit Video 26:
<ul>
<li class="has-line-data" data-line-start="2115" data-line-end="2116">$ git add .</li>
<li class="has-line-data" data-line-start="2116" data-line-end="2117">$ git commit -m “Commit 26: Crear método de pago único”</li>
<li class="has-line-data" data-line-start="2117" data-line-end="2119">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2119 data-line-end=2120><a id="Seccin_7_Manejo_de_pagos_fallidos_2119"></a>Sección 7: Manejo de pagos fallidos</h2>
<h3 class="code-line" data-line-start=2121 data-line-end=2122><a id="Video_27_Manejo_de_pagos_fallidos_de_cargos_unicos_2121"></a>Video 27. Manejo de pagos fallidos de cargos unicos</h3>
<ul>
<li class="has-line-data" data-line-start="2122" data-line-end="2123"><strong>URL para probar tarjetas</strong>: <a href="https://stripe.com/docs/testing#cards-responses">https://stripe.com/docs/testing#cards-responses</a></li>
</ul>
<ol>
<li class="has-line-data" data-line-start="2123" data-line-end="2158">Modificar el controlador <strong>app\Http\Livewire\ProductPay.php</strong>:<pre><code class="has-line-data" data-line-start="2125" data-line-end="2158" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Livewire</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Product</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Exception</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Livewire</span>\<span class="hljs-title">Component</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductPay</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$product</span>;

    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'paymentMethodCreate'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span><span class="hljs-params">(Product <span class="hljs-variable">$product</span>)</span></span>{
        <span class="hljs-variable">$this</span>-&gt;product = <span class="hljs-variable">$product</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.product-pay'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paymentMethodCreate</span><span class="hljs-params">(<span class="hljs-variable">$paymentMethod</span>)</span></span>{
        <span class="hljs-keyword">try</span>{
            auth()-&gt;user()-&gt;charge(<span class="hljs-variable">$this</span>-&gt;product-&gt;price * <span class="hljs-number">100</span>, <span class="hljs-variable">$paymentMethod</span>);
            <span class="hljs-variable">$this</span>-&gt;emit(<span class="hljs-string">'resetStripe'</span>);
        }<span class="hljs-keyword">catch</span> (<span class="hljs-keyword">Exception</span> <span class="hljs-variable">$e</span>){
            <span class="hljs-variable">$this</span>-&gt;emit(<span class="hljs-string">'errorPayment'</span>);
        }
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2158" data-line-end="2248">Modificar la vista <strong>resources\views\livewire\product-pay.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2160" data-line-end="2248" class="language-php">&lt;div&gt;
    &lt;div class="card relative"&gt;
        &lt;div wire:loading.flex class="absolute w-full h-full bg-gray-100 bg-opacity-25 z-30 items-center justify-center"&gt;
            &lt;x-spinner size="20" /&gt;
        &lt;/div&gt;

        &lt;div class="card-body"&gt;
            &lt;div class="flex justify-between items-center mb-4"&gt;
                &lt;h1 class="text-lg font-bold text-gray-700"&gt;Método de pago&lt;/h1&gt;
                &lt;img class="h-8" src="https://leadershipmemphis.org/wp-content/uploads/2020/08/780370.png" alt="Métodos de pago"&gt;
            &lt;/div&gt;
            &lt;form id="card-form"&gt;
                &lt;div class="form-group"&gt;
                    &lt;label class="form-label"&gt;Nombre de la tarjeta&lt;/label&gt;
                    &lt;input class="form-control" id="card-holder-name" type="text" placeholder="Ingrese el nombre del títular de la tarjeta" required&gt;
                &lt;/div&gt;
    
                &lt;!-- Stripe Elements Placeholder --&gt;
                &lt;div class="form-group"&gt;
                    &lt;label class="form-label"&gt;Número de tarjeta&lt;/label&gt;
                    &lt;div class="form-control" id="card-element"&gt;&lt;/div&gt;

                    &lt;span class="invalid-feedback" id="card-error"&gt;&lt;/span&gt;
                &lt;/div&gt;
                
                &lt;button class="btn btn-primary" id="card-button"&gt;
                    Procesar pago
                &lt;/button&gt;
            &lt;/form&gt;           
        &lt;/div&gt;
    &lt;/div&gt;

    @slot('js')
        &lt;script&gt;
            document.addEventListener('livewire:load', function(){
                stripe();
            })

            Livewire.on('resetStripe', function(){
                document.getElementById('card-form').reset();
                stripe();

                alert('La compra se realizó con éxito');
            })

            Livewire.on('errorPayment', function(){
                document.getElementById('card-form').reset();
                stripe();

                alert('Hubo un error en la compra, intentelo de nuevo');
            });
        &lt;/script&gt;

        &lt;script&gt;
            function stripe(){
                const stripe = Stripe("{{ env('STRIPE_KEY') }}");
            
                const elements = stripe.elements();
                const cardElement = elements.create('card');
            
                cardElement.mount('#card-element');

                // Método de pago
                const cardHolderName = document.getElementById('card-holder-name');
                const cardButton = document.getElementById('card-button');
                const cardForm = document.getElementById('card-form');

                cardForm.addEventListener('submit', async (e) =&gt; {
                    e.preventDefault();
                    const { paymentMethod, error } = await stripe.createPaymentMethod(
                        'card', cardElement, {
                            billing_details: { name: cardHolderName.value }
                        }
                    );

                    if (error) {
                        // Display "error.message" to the user...
                        document.getElementById('card-error').textContent = error.message;
                    } else {
                        // The card has been verified successfully...
                        Livewire.emit('paymentMethodCreate', paymentMethod.id);
                    }
                });
            }
        &lt;/script&gt;
    @endslot
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2248" data-line-end="2253">Commit Video 27:
<ul>
<li class="has-line-data" data-line-start="2249" data-line-end="2250">$ git add .</li>
<li class="has-line-data" data-line-start="2250" data-line-end="2251">$ git commit -m “Commit 27: Manejo de pagos fallidos de cargos unicos”</li>
<li class="has-line-data" data-line-start="2251" data-line-end="2253">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2253 data-line-end=2254><a id="Video_28_Manejo_de_pagos_fallidos_suscripciones_2253"></a>Video 28. Manejo de pagos fallidos suscripciones</h3>
<ol>
<li class="has-line-data" data-line-start="2254" data-line-end="2276">Redefinir el controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="2256" data-line-end="2276" class="language-php">≡
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Cashier</span>\<span class="hljs-title">Exceptions</span>\<span class="hljs-title">IncompletePayment</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Subscriptions</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    ≡
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newSubscription</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)</span></span>{
        <span class="hljs-keyword">try</span> {
            auth()-&gt;user()-&gt;newSubscription(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)-&gt;create();
            <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'invoices'</span>, <span class="hljs-string">'render'</span>);
        } <span class="hljs-keyword">catch</span> (IncompletePayment <span class="hljs-variable">$exception</span>) {
            <span class="hljs-keyword">return</span> redirect()-&gt;route(
                <span class="hljs-string">'cashier.payment'</span>,
                [<span class="hljs-variable">$exception</span>-&gt;payment-&gt;id, <span class="hljs-string">'redirect'</span> =&gt; route(<span class="hljs-string">'billing.index'</span>)]
            );
        }
    }
    ≡
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2276" data-line-end="2281">Commit Video 28:
<ul>
<li class="has-line-data" data-line-start="2277" data-line-end="2278">$ git add .</li>
<li class="has-line-data" data-line-start="2278" data-line-end="2279">$ git commit -m “Commit 28: Manejo de pagos fallidos suscripciones”</li>
<li class="has-line-data" data-line-start="2279" data-line-end="2281">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2281 data-line-end=2282><a id="Seccin_8_Webhook_y_prueba_de_suscripciones_2281"></a>Sección 8: Webhook y prueba de suscripciones</h2>
<h3 class="code-line" data-line-start=2283 data-line-end=2284><a id="Video_29_Crear_un_punto_de_conexin_2283"></a>Video 29. Crear un punto de conexión</h3>
<ol>
<li class="has-line-data" data-line-start="2284" data-line-end="2285">Ir a la página de <a href="https://stripe.com/es-us">Stripe</a> e iniciar sesión.</li>
<li class="has-line-data" data-line-start="2285" data-line-end="2286">Ir al panel de control (<strong>Dashboard</strong>).</li>
<li class="has-line-data" data-line-start="2286" data-line-end="2287">Ir a <strong>Desarrolladores</strong>.</li>
<li class="has-line-data" data-line-start="2287" data-line-end="2288">Ir a <strong>Webhooks</strong>.</li>
<li class="has-line-data" data-line-start="2288" data-line-end="2293">Dar clic en <strong>Añadir un punto de conexión</strong>.
<ul>
<li class="has-line-data" data-line-start="2289" data-line-end="2290">URL del punto de conexión: <a href="https://paymet.herokuapp.com/stripe/webhook">https://paymet.herokuapp.com/stripe/webhook</a></li>
<li class="has-line-data" data-line-start="2290" data-line-end="2291">Descripción: Comunicación entre Stripe y la aplicación nuestra.</li>
<li class="has-line-data" data-line-start="2291" data-line-end="2292">Evento a escuchar: customer.subscription.created</li>
<li class="has-line-data" data-line-start="2292" data-line-end="2293"><strong>Nota</strong>: Este tipo de conexión no se puede hacer con la aplicación de prueba en local.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2293" data-line-end="2294">Dar clic en <strong>Añadir punto de conexión</strong>.</li>
<li class="has-line-data" data-line-start="2294" data-line-end="2295">Volver a nuestra aplicación en desarrollo.</li>
<li class="has-line-data" data-line-start="2295" data-line-end="2315">Quitar protección <strong>CSRF</strong> en el middleware <strong>app\Http\Middleware\VerifyCsrfToken.php</strong>:<pre><code class="has-line-data" data-line-start="2297" data-line-end="2315" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Middleware</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Foundation</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Middleware</span>\<span class="hljs-title">VerifyCsrfToken</span> <span class="hljs-title">as</span> <span class="hljs-title">Middleware</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VerifyCsrfToken</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Middleware</span>
</span>{
    <span class="hljs-comment">/**
    * The URIs that should be excluded from CSRF verification.
    *
    * <span class="hljs-doctag">@var</span> array
    */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$except</span> = [
        <span class="hljs-string">'stripe/*'</span>,
    ];
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2315" data-line-end="2317">Crear controlador <strong>WeebhookController</strong>:
<ul>
<li class="has-line-data" data-line-start="2316" data-line-end="2317">$ php artisan make:controller WeebhookController</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2317" data-line-end="2339">Programar el controlador <strong>app\Http\Controllers\WeebhookController.php</strong>:<pre><code class="has-line-data" data-line-start="2319" data-line-end="2339" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Cashier</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">WebhookController</span> <span class="hljs-title">as</span> <span class="hljs-title">CashierController</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebhookController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CashierController</span>
</span>{
    <span class="hljs-comment">/**
    * Handle invoice payment succeeded.
    *
    * <span class="hljs-doctag">@param</span>  array  $payload
    * <span class="hljs-doctag">@return</span> \Symfony\Component\HttpFoundation\Response
    */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">customerSubscriptionCreated</span><span class="hljs-params">(<span class="hljs-variable">$payload</span>)</span>
    </span>{
        <span class="hljs-comment">// Enviar correo eléctronico</span>
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2339" data-line-end="2347">Agregar ruta en el archivo de rutas <strong>routes\web.php</strong>:<pre><code class="has-line-data" data-line-start="2341" data-line-end="2343" class="language-php">Route::post(<span class="hljs-string">'/stripe/webhook'</span>, [WebhookController::class, <span class="hljs-string">'handleWebhook'</span>]);
</code></pre>
<ul>
<li class="has-line-data" data-line-start="2343" data-line-end="2344">Importar la definición del controlador <strong>WebhookController</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="2345" data-line-end="2347" class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">WebhookController</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2347" data-line-end="2352">Commit Video 29:
<ul>
<li class="has-line-data" data-line-start="2348" data-line-end="2349">$ git add .</li>
<li class="has-line-data" data-line-start="2349" data-line-end="2350">$ git commit -m “Commit 29: Crear un punto de conexión”</li>
<li class="has-line-data" data-line-start="2350" data-line-end="2352">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2352 data-line-end=2353><a id="Video_30_Periodo_de_prueba_2352"></a>Video 30. Periodo de prueba</h3>
<ol>
<li class="has-line-data" data-line-start="2353" data-line-end="2369">Modificar el método <strong>newSubscription</strong> del controlador <strong>app\Http\Livewire\Subscriptions.php</strong> para permitir días de prueba a nuestro subscriptores:<pre><code class="has-line-data" data-line-start="2355" data-line-end="2369" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newSubscription</span><span class="hljs-params">(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)</span></span>{
    <span class="hljs-keyword">try</span> {
        auth()-&gt;user()-&gt;newSubscription(<span class="hljs-variable">$name</span>, <span class="hljs-variable">$price</span>)
            -&gt;trialDays(<span class="hljs-number">7</span>)
            -&gt;create();
        <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'invoices'</span>, <span class="hljs-string">'render'</span>);
    } <span class="hljs-keyword">catch</span> (IncompletePayment <span class="hljs-variable">$exception</span>) {
        <span class="hljs-keyword">return</span> redirect()-&gt;route(
            <span class="hljs-string">'cashier.payment'</span>,
            [<span class="hljs-variable">$exception</span>-&gt;payment-&gt;id, <span class="hljs-string">'redirect'</span> =&gt; route(<span class="hljs-string">'billing.index'</span>)]
        );
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2369" data-line-end="2374">Commit Video 30:
<ul>
<li class="has-line-data" data-line-start="2370" data-line-end="2371">$ git add .</li>
<li class="has-line-data" data-line-start="2371" data-line-end="2372">$ git commit -m “Commit 30: Periodo de prueba”</li>
<li class="has-line-data" data-line-start="2372" data-line-end="2374">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2374 data-line-end=2375><a id="Seccin_9_Cupones_de_descuento_2374"></a>Sección 9: Cupones de descuento</h2>
<h3 class="code-line" data-line-start=2376 data-line-end=2377><a id="Video_31_Reestructurar_el_codigo_2376"></a>Video 31. Reestructurar el codigo</h3>
<ol>
<li class="has-line-data" data-line-start="2377" data-line-end="2451">Modificar la vista <strong>resources\views\billing\index.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2379" data-line-end="2451" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="pb-12"&gt;
        {{-- @livewire('subscriptions') --}}

        &lt;div class="w-full mx-auto px-5 py-10 text-gray-600 mb-10"&gt;
            &lt;div class="text-center max-w-xl mx-auto"&gt;
                &lt;h1 class="text-5xl md:text-6xl font-bold mb-5"&gt;Pricing&lt;/h1&gt;
                &lt;h3 class="text-xl font-medium mb-10"&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit repellat dignissimos laboriosam odit accusamus porro&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="max-w-4xl mx-auto md:flex"&gt;
                {{-- Plan mensual --}}
                &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:my-6 rounded-md shadow-lg shadow-gray-600 md:flex md:flex-col"&gt;
                    &lt;div class="w-full flex-grow"&gt;
                        &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN MENSUAL&lt;/h2&gt;
                        &lt;h3 class="text-center font-bold text-4xl mb-5"&gt;$9.99&lt;/h3&gt;
                        &lt;ul class="text-sm px-5 mb-8"&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    @livewire('subscriptions', ['price' =&gt; 'price_1Je6v9CF1N694F8geZ0KffEI'], key('price_1Je6v9CF1N694F8geZ0KffEI'))
                    {{-- &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8geZ0KffEI" /&gt; --}}
                &lt;/div&gt;
        
                {{-- Plan trimestral --}}
                &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:-mx-3 md:mb-0 rounded-md shadow-lg shadow-gray-600 md:relative md:z-50 md:flex md:flex-col"&gt;
                    &lt;div class="w-full flex-grow"&gt;
                        &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN TRIMESTRAL&lt;/h2&gt;
                        &lt;h3 class="text-center font-bold text-4xl md:text-5xl mb-5"&gt;$19.99&lt;/h3&gt;
                        &lt;ul class="text-sm px-5 mb-8"&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Consectetur&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Adipisicing&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Elit repellat&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    @livewire('subscriptions', ['price' =&gt; 'price_1Je6v9CF1N694F8gA4SNnBw6'], key('price_1Je6v9CF1N694F8gA4SNnBw6'))
                    {{-- &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8gA4SNnBw6" /&gt; --}}
                &lt;/div&gt;
        
                {{-- Plan anual --}}
                &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:my-6 rounded-md shadow-lg shadow-gray-600 md:flex md:flex-col"&gt;
                    &lt;div class="w-full flex-grow"&gt;
                        &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN ANUAL&lt;/h2&gt;
                        &lt;h3 class="text-center font-bold text-4xl mb-5"&gt;$89.99&lt;/h3&gt;
                        &lt;ul class="text-sm px-5 mb-8"&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Consectetur&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Adipisicing&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Much more...&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    @livewire('subscriptions', ['price' =&gt; 'price_1Je6v9CF1N694F8gyvdJbORd'], key('price_1Je6v9CF1N694F8gyvdJbORd'))
                    {{-- &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8gyvdJbORd" /&gt; --}}
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
            @livewire('payment-method-create')

            &lt;div class="my-8"&gt;
                @livewire('payment-method-list')
            &lt;/div&gt;

            @livewire('invoices')
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2451" data-line-end="2504">Modificar el componente <strong>resources\views\livewire\subscriptions.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2453" data-line-end="2504" class="language-php">&lt;div class="w-full"&gt;
    @if (auth()-&gt;user()-&gt;hasDefaultPaymentMethod())
        @if (auth()-&gt;user()-&gt;subscribed($name))
            @if (auth()-&gt;user()-&gt;subscribedToPrice($price, $name))
                @if (auth()-&gt;user()-&gt;subscription($name)-&gt;onGracePeriod())
                    &lt;div&gt;
                        &lt;button wire:click="resuminSubscription"
                            wire:loading.attr="disabled"
                            wire:target="resuminSubscription"
                            class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                            &lt;x-spinner wire:loading wire:target="resuminSubscription" size=6 class="mr-2" /&gt;
                            Reanudar plan
                        &lt;/button&gt;
                    &lt;/div&gt;          
                @else
                    &lt;article&gt;
                        &lt;button wire:click="cancellingSubscription"
                            wire:loading.attr="disabled"
                            wire:target="cancellingSubscription"
                            class="font-bold bg-red-600 hover:bg-red-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                            &lt;x-spinner wire:loading wire:target="cancellingSubscription" size=6 class="mr-2" /&gt;
                            Cancelar
                        &lt;/button&gt;
                    &lt;/article&gt;
                @endif
            @else
                &lt;button wire:click="changingPlans"
                    wire:loading.attr="disabled"
                    wire:target="changingPlans"
                    class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
                    &lt;x-spinner wire:loading wire:target="changingPlans" size=6 class="mr-2" /&gt;
                    Cambiar de plan
                &lt;/button&gt;
            @endif   
        @else
            &lt;a wire:click="newSubscription"
                wire:loading.attr="disabled"
                wire:target="newSubscription"
                class="cursor-pointer font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full flex items-center justify-center"&gt;
                &lt;x-spinner wire:loading wire:target="newSubscription" size=6 class="mr-2" /&gt;
                Subcribirse
            &lt;/a&gt;
        @endif
    @else
        &lt;button
            class="font-bold bg-gray-600 hover:bg-gray-700 text-white rounded-md px-10 py-2 transition-colors w-full items-center justify-center"&gt;
            Agregar método de pago
        &lt;/button&gt;
    @endif
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2504" data-line-end="2561">Modificar el controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="2506" data-line-end="2561" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Livewire</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Livewire</span>\<span class="hljs-title">Component</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laravel</span>\<span class="hljs-title">Cashier</span>\<span class="hljs-title">Exceptions</span>\<span class="hljs-title">IncompletePayment</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Subscriptions</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-variable">$price</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-variable">$name</span> = <span class="hljs-string">'Servicios Sefar Universal'</span>;

    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$listeners</span> = [<span class="hljs-string">'render'</span>];

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mount</span><span class="hljs-params">(<span class="hljs-variable">$price</span>)</span></span>{
        <span class="hljs-variable">$this</span>-&gt;price = <span class="hljs-variable">$price</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'livewire.subscriptions'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newSubscription</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">try</span> {
            auth()-&gt;user()-&gt;newSubscription(<span class="hljs-variable">$this</span>-&gt;name, <span class="hljs-variable">$this</span>-&gt;price)
                -&gt;trialDays(<span class="hljs-number">7</span>)
                -&gt;create();
            <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'invoices'</span>, <span class="hljs-string">'render'</span>);
            <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'subscriptions'</span>, <span class="hljs-string">'render'</span>);
        } <span class="hljs-keyword">catch</span> (IncompletePayment <span class="hljs-variable">$exception</span>) {
            <span class="hljs-keyword">return</span> redirect()-&gt;route(
                <span class="hljs-string">'cashier.payment'</span>,
                [<span class="hljs-variable">$exception</span>-&gt;payment-&gt;id, <span class="hljs-string">'redirect'</span> =&gt; route(<span class="hljs-string">'billing.index'</span>)]
            );
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changingPlans</span><span class="hljs-params">()</span></span>{
        auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$this</span>-&gt;name)-&gt;swap(<span class="hljs-variable">$this</span>-&gt;price);
        <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'invoices'</span>, <span class="hljs-string">'render'</span>);
        <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'subscriptions'</span>, <span class="hljs-string">'render'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancellingSubscription</span><span class="hljs-params">()</span></span>{
        auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$this</span>-&gt;name)-&gt;cancel();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resuminSubscription</span><span class="hljs-params">()</span></span>{
        auth()-&gt;user()-&gt;subscription(<span class="hljs-variable">$this</span>-&gt;name)-&gt;resume();
        <span class="hljs-variable">$this</span>-&gt;emitTo(<span class="hljs-string">'subscriptions'</span>, <span class="hljs-string">'render'</span>);
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2561" data-line-end="2566">Commit Video 31:
<ul>
<li class="has-line-data" data-line-start="2562" data-line-end="2563">$ git add .</li>
<li class="has-line-data" data-line-start="2563" data-line-end="2564">$ git commit -m “Commit 31: Reestructurar el código”</li>
<li class="has-line-data" data-line-start="2564" data-line-end="2566">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h3 class="code-line" data-line-start=2566 data-line-end=2567><a id="Video_32_Aplicar_descuento_2566"></a>Video 32. Aplicar descuento</h3>
<ol>
<li class="has-line-data" data-line-start="2567" data-line-end="2568">Ir a la página de <a href="https://stripe.com/es-us">Stripe</a> e iniciar sesión.</li>
<li class="has-line-data" data-line-start="2568" data-line-end="2569">Ir al panel de control (<strong>Dashboard</strong>).</li>
<li class="has-line-data" data-line-start="2569" data-line-end="2570">Ir a <strong>Productos</strong>.</li>
<li class="has-line-data" data-line-start="2570" data-line-end="2571">Ir a <strong>Cupones</strong>.</li>
<li class="has-line-data" data-line-start="2571" data-line-end="2577">Dar clic en <strong>Crear un cupón de prueba</strong>.
<ul>
<li class="has-line-data" data-line-start="2572" data-line-end="2573">Nombre: 50% de descuento</li>
<li class="has-line-data" data-line-start="2573" data-line-end="2574">ID: SEFAR</li>
<li class="has-line-data" data-line-start="2574" data-line-end="2575">Porcentaje de descuento: 50 %</li>
<li class="has-line-data" data-line-start="2575" data-line-end="2576">Duración: Varios meses</li>
<li class="has-line-data" data-line-start="2576" data-line-end="2577">Cantidad de meses: 3</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2577" data-line-end="2578">Dar clic en <strong>Crear cupón</strong>.</li>
<li class="has-line-data" data-line-start="2578" data-line-end="2579">Regresar a la aplicación en desarrollo.</li>
<li class="has-line-data" data-line-start="2579" data-line-end="2583">Modificar el método <strong>newSubscription</strong> del controlador <strong>app\Http\Livewire\Subscriptions.php</strong>:<pre><code class="has-line-data" data-line-start="2581" data-line-end="2583" class="language-php">***
</code></pre>
</li>
<li class="has-line-data" data-line-start="2583" data-line-end="2591">Modificar la vista <strong>resources\views\livewire\subscriptions.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2585" data-line-end="2587" class="language-php">***
</code></pre>
<ul>
<li class="has-line-data" data-line-start="2587" data-line-end="2588">Definir la propiedad <strong>coupon</strong> en la clase <strong>Subscriptions</strong>:</li>
</ul>
<pre><code class="has-line-data" data-line-start="2589" data-line-end="2591" class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-variable">$coupon</span>;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2591" data-line-end="2596">Commit Video 32:
<ul>
<li class="has-line-data" data-line-start="2592" data-line-end="2593">$ git add .</li>
<li class="has-line-data" data-line-start="2593" data-line-end="2594">$ git commit -m “Commit 32: Aplicar descuento”</li>
<li class="has-line-data" data-line-start="2594" data-line-end="2596">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2596 data-line-end=2597><a id="Seccin_10_Despedida_del_curso_2596"></a>Sección 10: Despedida del curso</h2>
<h3 class="code-line" data-line-start=2598 data-line-end=2599><a id="Video_33_Despedida_del_curso_2598"></a>Video 33. Despedida del curso</h3>
<ol>
<li class="has-line-data" data-line-start="2599" data-line-end="2604">Activar cuenta <strong>Stripe</strong> (Para Europa y México):
<ul>
<li class="has-line-data" data-line-start="2600" data-line-end="2601">Ir a la página de <a href="https://stripe.com/es-us">Stripe</a> e iniciar sesión.</li>
<li class="has-line-data" data-line-start="2601" data-line-end="2602">Ir a <strong>Productos</strong>.</li>
<li class="has-line-data" data-line-start="2602" data-line-end="2603">Dar clic en <strong>Activar cuenta</strong>.</li>
<li class="has-line-data" data-line-start="2603" data-line-end="2604">Completar todo lo que se le solicite.</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2604" data-line-end="2612">Para los paises que no aparecen en la lista:
<ul>
<li class="has-line-data" data-line-start="2605" data-line-end="2609">Opción 1: Crear una empresa en EEUU y seleccionar como país EEUU.
<ul>
<li class="has-line-data" data-line-start="2606" data-line-end="2609">Para esto seguir el siguiente video de YouTube:
<ul>
<li class="has-line-data" data-line-start="2607" data-line-end="2608"><strong><a href="https://www.youtube.com/watch?v=lKybWqos3VI">Cómo Usar STRIPE en Latinoamérica (2021) - LEGALMENTE</a></strong>.</li>
<li class="has-line-data" data-line-start="2608" data-line-end="2609">Esta opción tiene un costo de $200 a $500.</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2609" data-line-end="2612">Opción 2: Este método puede ocasionar la cancelación de la cuenta de Stripe, por tal motivo se recomienda iniciar con esta opción y luego pasarse a la primera.
<ul>
<li class="has-line-data" data-line-start="2610" data-line-end="2612">Para realizar esta opción seguir el siguiente video de YouTube:
<ul>
<li class="has-line-data" data-line-start="2611" data-line-end="2612"><strong><a href="https://www.youtube.com/watch?v=YEgKDnnrHyY">Stripe GRATIS en Cualquier País (NUEVO MÉTODO) 2021</a></strong>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="has-line-data" data-line-start="2612" data-line-end="2617">Commit Video 33:
<ul>
<li class="has-line-data" data-line-start="2613" data-line-end="2614">$ git add .</li>
<li class="has-line-data" data-line-start="2614" data-line-end="2615">$ git commit -m “Commit 33: Despedida del curso”</li>
<li class="has-line-data" data-line-start="2615" data-line-end="2617">$ git push -u origin main</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=2617 data-line-end=2618><a id="Personalizacin_del_proyecto_2617"></a>Personalización del proyecto:</h2>
<ol>
<li class="has-line-data" data-line-start="2618" data-line-end="2641">Modificar la vista <strong>resources\views\navigation-menu.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2620" data-line-end="2641" class="language-php">@php
    <span class="hljs-variable">$nav_links</span> = [
        [
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Principal'</span>,
            <span class="hljs-string">'route'</span> =&gt; route(<span class="hljs-string">'dashboard'</span>),
            <span class="hljs-string">'active'</span> =&gt; request()-&gt;routeIs(<span class="hljs-string">'dashboard'</span>)
        ],
        [
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Productos'</span>,
            <span class="hljs-string">'route'</span> =&gt; route(<span class="hljs-string">'home'</span>),
            <span class="hljs-string">'active'</span> =&gt; request()-&gt;routeIs(<span class="hljs-string">'home'</span>)
        ],
        [
            <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'Artículos'</span>,
            <span class="hljs-string">'route'</span> =&gt; route(<span class="hljs-string">'articles.index'</span>),
            <span class="hljs-string">'active'</span> =&gt; request()-&gt;routeIs(<span class="hljs-string">'articles.*'</span>)
        ],
    ];
@endphp
≡
</code></pre>
</li>
<li class="has-line-data" data-line-start="2641" data-line-end="2744">Modificar la vista <strong>resources\views\vendor\jetstream\components\welcome.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2643" data-line-end="2744" class="language-php">&lt;div class="p-6 sm:px-20 bg-white border-b border-gray-200"&gt;
    &lt;div&gt;
        &lt;x-jet-application-logo class="block h-12 w-auto" /&gt;
    &lt;/div&gt;

    &lt;div class="mt-8 text-2xl"&gt;
        Bienvenidos a la aplicación de productos de Sefar Universal!
    &lt;/div&gt;

    &lt;div class="mt-6 text-gray-500"&gt;
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quibusdam quaerat nulla consequatur, 
        ipsam voluptatem reiciendis et, sunt, impedit quod debitis perspiciatis consectetur excepturi 
        velit iste doloribus. Sunt earum sapiente mollitia?
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt voluptatem fugiat numquam, 
        labore aliquam mollitia molestiae exercitationem animi, ipsum voluptate id magnam quidem 
        ratione porro vero dolorum distinctio adipisci incidunt.
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class="bg-gray-200 bg-opacity-25 grid grid-cols-1 md:grid-cols-2"&gt;
    &lt;div class="p-6"&gt;
        &lt;div class="flex items-center"&gt;
            &lt;svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-8 h-8 text-gray-400"&gt;&lt;path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"&gt;&lt;/path&gt;&lt;/svg&gt;
            &lt;div class="ml-4 text-lg text-gray-600 leading-7 font-semibold"&gt;&lt;a href="#"&gt;Documentación&lt;/a&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="ml-12"&gt;
            &lt;div class="mt-2 text-sm text-gray-500"&gt;
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Facilis commodi officia asperiores 
                nihil et quo laborum eveniet atque mollitia! Nobis possimus distinctio enim fuga, 
                laboriosam sint maiores blanditiis expedita voluptates?
            &lt;/div&gt;

            &lt;a href="https://laravel.com/docs"&gt;
                &lt;div class="mt-3 flex items-center text-sm font-semibold text-indigo-700"&gt;
                        &lt;div&gt;Explore la documentación&lt;/div&gt;

                        &lt;div class="ml-1 text-indigo-500"&gt;
                            &lt;svg viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"&gt;&lt;path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"&gt;&lt;/path&gt;&lt;/svg&gt;
                        &lt;/div&gt;
                &lt;/div&gt;
            &lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="p-6 border-t border-gray-200 md:border-t-0 md:border-l"&gt;
        &lt;div class="flex items-center"&gt;
            &lt;svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-8 h-8 text-gray-400"&gt;&lt;path d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"&gt;&lt;/path&gt;&lt;path d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"&gt;&lt;/path&gt;&lt;/svg&gt;
            &lt;div class="ml-4 text-lg text-gray-600 leading-7 font-semibold"&gt;&lt;a href="#"&gt;Términos y condiciones&lt;/a&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="ml-12"&gt;
            &lt;div class="mt-2 text-sm text-gray-500"&gt;
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestias deserunt minima 
                dolore aperiam dolorem odit adipisci nam sequi, laborum consequatur ut reiciendis ab 
                vitae animi nisi! Cupiditate, a. Quasi, iure?
            &lt;/div&gt;

            &lt;a href="https://laracasts.com"&gt;
                &lt;div class="mt-3 flex items-center text-sm font-semibold text-indigo-700"&gt;
                        &lt;div&gt;Revise los términos y condiciones&lt;/div&gt;

                        &lt;div class="ml-1 text-indigo-500"&gt;
                            &lt;svg viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"&gt;&lt;path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"&gt;&lt;/path&gt;&lt;/svg&gt;
                        &lt;/div&gt;
                &lt;/div&gt;
            &lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="p-6 border-t border-gray-200"&gt;
        &lt;div class="flex items-center"&gt;
            &lt;svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-8 h-8 text-gray-400"&gt;&lt;path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"&gt;&lt;/path&gt;&lt;/svg&gt;
            &lt;div class="ml-4 text-lg text-gray-600 leading-7 font-semibold"&gt;&lt;a href="#"&gt;Garantías del servicio&lt;/a&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="ml-12"&gt;
            &lt;div class="mt-2 text-sm text-gray-500"&gt;
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Qui optio doloribus natus 
                porro velit culpa aut excepturi, laudantium animi dolores, et dolorem beatae dolore 
                nostrum dolor minima quaerat. Sequi, quia?
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="p-6 border-t border-gray-200 md:border-l"&gt;
        &lt;div class="flex items-center"&gt;
            &lt;svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-8 h-8 text-gray-400"&gt;&lt;path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"&gt;&lt;/path&gt;&lt;/svg&gt;
            &lt;div class="ml-4 text-lg text-gray-600 leading-7 font-semibold"&gt;Autenticación&lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="ml-12"&gt;
            &lt;div class="mt-2 text-sm text-gray-500"&gt;
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia aperiam animi repellendus 
                incidunt, ducimus ad quam placeat aspernatur eum repudiandae nisi esse maxime atque quibusdam, 
                explicabo assumenda officia, quo consectetur!
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2744" data-line-end="2769">Modificar la vista <strong>resources\views\welcome.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2746" data-line-end="2769" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="container py-10"&gt;
        &lt;div class="grid grid-cols-3 gap-6"&gt;
            @foreach ($products as $product)
                &lt;div class="card"&gt;
                    &lt;div class="px-4 py-2 bg-gray-200 flex justify-between items-center"&gt;
                        &lt;p class="text-gray-500 font-bold text-xl"&gt;{{ $product-&gt;price }} USD&lt;/p&gt;
                        &lt;a href="{{ route('products.pay', $product) }}" class="btn btn-primary"&gt;Comprar&lt;/a&gt;
                    &lt;/div&gt;
                    &lt;img class="h-56 w-full object-cover" src="{{Asset($product-&gt;image)}}" alt="{{ Asset($product-&gt;image) }}"&gt;
                    &lt;div class="card-body"&gt;
                        &lt;h1 class="text-gray-900 font-bold text-xl uppercase"&gt;{{ $product-&gt;title }}&lt;/h1&gt;
                        &lt;p class="text-gray-600 text-sm mt-1"&gt;{{ Str::limit($product-&gt;description, 150) }}&lt;/p&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            @endforeach
            &lt;div class="mt-6"&gt;
                {{ $products-&gt;links() }}
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2769" data-line-end="2797">Modificar vists <strong>resources\views\products\pay.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2771" data-line-end="2797" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="container py-12 grid grid-cols-12 gap-6"&gt;
        &lt;div class="col-span-7"&gt;
            &lt;article class="card"&gt;
                &lt;div class="card-body"&gt;
                    &lt;div class="flex"&gt;
                        &lt;img class="w-48 h-28 object-cover" src="{{Asset($product-&gt;image)}}" alt="{{Asset($product-&gt;image)}}"&gt;
                        &lt;div class="ml-4 flex justify-between items-center self-start flex-1"&gt;
                            &lt;h1 class="text-gray-500 font-bold text-lg uppercase"&gt;{{$product-&gt;title}}&lt;/h1&gt;
                            &lt;p class="font-bold text-gray-500"&gt;{{$product-&gt;price}} USD&lt;/p&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                
                    &lt;hr class="my-4"&gt;

                    &lt;p class="text-sm text-gray-500"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Excepturi incidunt doloribus vel omnis minus blanditiis accusamus? Sed, tempora, autem quam quisquam  &lt;a class="text-blue-500 font-bold" href=""&gt;Terminos y condiciones&lt;/a&gt;&lt;/p&gt;
                &lt;/div&gt;
            &lt;/article&gt;
        &lt;/div&gt;

        &lt;div class="col-span-5"&gt;
            @livewire('product-pay', ['product' =&gt; $product])
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2797" data-line-end="2821">Modificar vista <strong>resources\views\articles\index.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2799" data-line-end="2821" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="max-w-5xl mx-auto px-4 lg:px-8 py-12"&gt;
        @foreach ($articles as $article)
            &lt;article class="card mb-6"&gt;

                &lt;img class="h-72 w-full object-cover object-center" src="{{ Asset($article-&gt;image) }}" alt="{{ Asset($article-&gt;image) }}"&gt;

                &lt;div class="card-body"&gt;
                    &lt;h1 class="font-bold text-xl mb-2"&gt;
                        &lt;a href="{{route('articles.show', $article)}}"&gt;{{$article-&gt;title}}&lt;/a&gt;
                    &lt;/h1&gt;

                    &lt;div class="text-gray-700"&gt;
                        {{$article-&gt;extract}}
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/article&gt;
        @endforeach
        {{$articles-&gt;links()}}
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2821" data-line-end="2841">Modificar vista <strong>resources\views\articles\show.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2823" data-line-end="2841" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="max-w-5xl mx-auto px-4 lg:px-8 py-12"&gt;
        &lt;h1 class="text-4xl font-bold text-gray-600"&gt;{{$article-&gt;title}}&lt;/h1&gt;

        &lt;div class="text-lg text-gray-500 mb-2"&gt;
            {{$article-&gt;extract}}
        &lt;/div&gt;

        &lt;figure&gt;
            &lt;img class="h-80 w-full object-cover object-center" src="{{ Asset($article-&gt;image) }}" alt="{{ Asset($article-&gt;image) }}"&gt;
        &lt;/figure&gt;

        &lt;div class="text-gray-500 mt-4"&gt;
            {{$article-&gt;body}}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2841" data-line-end="2883">Modificar el archivo de estilos <strong>resources\css\buttons.css</strong>:<pre><code class="has-line-data" data-line-start="2843" data-line-end="2883" class="language-css">.btn {
    @apply font-bold py-2 px-4 rounded;
}

.btn-primary {
    /* @apply bg-blue-500 text-white; */
    background-color: rgb(121, 22, 15);
    color: white;
}

.btn-primary:hover {
    /* @apply bg-blue-700; */   
    background-color: rgb(70, 12, 8);
    color: white;
}

.btn-danger {
    @apply bg-red-500 text-white;
}

.btn-danger:hover {
    @apply bg-red-700;
}

.btn-success {
    @apply bg-green-500 text-white;
}

.btn-success:hover {
    @apply bg-green-700;
}

.btn-secondary {
    @apply bg-gray-500 text-white;
}

.btn-secondary:hover {
    @apply bg-gray-700;
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="2883" data-line-end="2959">Modificar vista <strong>resources\views\billing\index.blade.php</strong>:<pre><code class="has-line-data" data-line-start="2885" data-line-end="2959" class="language-php">&lt;x-app-layout&gt;
    &lt;div class="pb-12"&gt;
        {{-- @livewire('subscriptions') --}}

        &lt;div class="w-full mx-auto px-5 py-10 text-gray-600 mb-10"&gt;
            &lt;div class="text-center max-w-xl mx-auto"&gt;
                &lt;h1 class="text-5xl md:text-6xl font-bold mb-5"&gt;Precios&lt;/h1&gt;
                &lt;h3 class="text-xl font-medium mb-10"&gt;
                    Selecciona un plan y empieza a disfrutar de los servicios que ofrece Sefar Universal
                &lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="max-w-4xl mx-auto md:flex"&gt;
                {{-- Plan mensual --}}
                &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:my-6 rounded-md shadow-lg shadow-gray-600 md:flex md:flex-col"&gt;
                    &lt;div class="w-full flex-grow"&gt;
                        &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN MENSUAL&lt;/h2&gt;
                        &lt;h3 class="text-center font-bold text-4xl mb-5"&gt;$9.99&lt;/h3&gt;
                        &lt;ul class="text-sm px-5 mb-8"&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    @livewire('subscriptions', ['price' =&gt; 'price_1Je6v9CF1N694F8geZ0KffEI'], key('price_1Je6v9CF1N694F8geZ0KffEI'))
                    {{-- &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8geZ0KffEI" /&gt; --}}
                &lt;/div&gt;
        
                {{-- Plan trimestral --}}
                &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:-mx-3 md:mb-0 rounded-md shadow-lg shadow-gray-600 md:relative md:z-50 md:flex md:flex-col"&gt;
                    &lt;div class="w-full flex-grow"&gt;
                        &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN TRIMESTRAL&lt;/h2&gt;
                        &lt;h3 class="text-center font-bold text-4xl md:text-5xl mb-5"&gt;$19.99&lt;/h3&gt;
                        &lt;ul class="text-sm px-5 mb-8"&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Consectetur&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Adipisicing&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Elit repellat&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    @livewire('subscriptions', ['price' =&gt; 'price_1Je6v9CF1N694F8gA4SNnBw6'], key('price_1Je6v9CF1N694F8gA4SNnBw6'))
                    {{-- &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8gA4SNnBw6" /&gt; --}}
                &lt;/div&gt;
        
                {{-- Plan anual --}}
                &lt;div class="w-full md:w-1/3 md:max-w-none bg-white px-8 md:px-10 py-8 md:py-10 mb-3 mx-auto md:my-6 rounded-md shadow-lg shadow-gray-600 md:flex md:flex-col"&gt;
                    &lt;div class="w-full flex-grow"&gt;
                        &lt;h2 class="text-center font-bold uppercase mb-4"&gt;PLAN ANUAL&lt;/h2&gt;
                        &lt;h3 class="text-center font-bold text-4xl mb-5"&gt;$89.99&lt;/h3&gt;
                        &lt;ul class="text-sm px-5 mb-8"&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Lorem ipsum&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Dolor sit amet&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Consectetur&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Adipisicing&lt;/li&gt;
                            &lt;li class="leading-tight"&gt;&lt;i class="mdi mdi-check-bold text-lg"&gt;&lt;/i&gt; Much more...&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    @livewire('subscriptions', ['price' =&gt; 'price_1Je6v9CF1N694F8gyvdJbORd'], key('price_1Je6v9CF1N694F8gyvdJbORd'))
                    {{-- &lt;x-button-subscription name="Servicios Sefar Universal" price="price_1Je6v9CF1N694F8gyvdJbORd" /&gt; --}}
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"&gt;
            @livewire('payment-method-create')

            &lt;div class="my-8"&gt;
                @livewire('payment-method-list')
            &lt;/div&gt;

            @livewire('invoices')
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/x-app-layout&gt;
</code></pre>
</li>
<li class="has-line-data" data-line-start="2959" data-line-end="3123">Modificar el seeder <strong>database\seeders\DatabaseSeeder.php</strong>:<pre><code class="has-line-data" data-line-start="2961" data-line-end="3123" class="language-php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Database</span>\<span class="hljs-title">Seeders</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Article</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Product</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Support</span>\<span class="hljs-title">Facades</span>\<span class="hljs-title">Storage</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span>
</span>{
    <span class="hljs-comment">/**
    * Seed the application's database.
    *
    * <span class="hljs-doctag">@return</span> void
    */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// Productos: </span>
        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Análisis por semana'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto01.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab dicta officiis explicabo quisquam recusandae tenetur voluptatibus architecto earum fugiat deserunt error dolor corporis, esse placeat vitae dolore. Aut, fuga officiis.'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">59</span>
        ]);
        
        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Carta de Naturaleza'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto02.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequatur ipsum laboriosam repellat, corrupti architecto eveniet quisquam placeat mollitia magnam hic adipisci eligendi assumenda accusamus cupiditate tempora ipsam culpa asperiores provident.'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">99</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Fase de Genealogía'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto03.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo minima ipsum enim consequuntur aliquid atque tenetur officia, illo sequi assumenda nihil, doloremque quam, ut tempora! Adipisci recusandae quidem iste repudiandae!'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">149</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Memorándum Administrativo'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto04.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptatum nobis beatae dicta sit quisquam ipsum ea alias totam quod dolorum earum eius minus distinctio, sequi debitis esse iste. Doloribus, vel!'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">99</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Nacionalidad Italiana'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto05.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Unde tenetur, laborum facilis nisi iure ipsam inventore error minus sed vel praesentium, ad sint id. Reprehenderit voluptates repellat iste facilis nobis?'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">19</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Nacionalidad Portuguesa'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto06.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus soluta voluptatum est. Ut provident, nihil velit nulla, alias ex modi illum veritatis similique, dolorum tempore expedita quidem iste excepturi corrupti.'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">49</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Recurso de Alzada'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto07.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor, sit amet consectetur adipisicing elit. A repudiandae, ea ipsam expedita minus fugiat omnis voluptates, vitae cupiditate voluptatibus quis eius itaque unde pariatur. Reprehenderit atque facere vero sed?'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">99</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Resolución Expresa'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto08.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex quae impedit nesciunt veniam, aliquid dolorem ad sed id illo? Vitae voluptatibus, recusandae molestiae ex rerum nulla esse eos eveniet dolores?'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">99</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Servicio de Residencias'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto09.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio at exercitationem blanditiis odit quam hic eaque aut facere rerum eius. Facere ex nemo modi. Animi corrupti molestias cupiditate in doloremque.'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">49</span>
        ]);

        Product::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Subsanación de Expediente'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto10.png'</span>,
            <span class="hljs-string">'description'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
            <span class="hljs-string">'price'</span> =&gt; <span class="hljs-number">79</span>
        ]);

        <span class="hljs-comment">// Artículos: </span>
        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Análisis por semana'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto01.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab dicta officiis explicabo quisquam recusandae tenetur voluptatibus architecto earum fugiat deserunt error dolor corporis, esse placeat vitae dolore. Aut, fuga officiis.'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);
        
        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Carta de Naturaleza'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto02.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequatur ipsum laboriosam repellat, corrupti architecto eveniet quisquam placeat mollitia magnam hic adipisci eligendi assumenda accusamus cupiditate tempora ipsam culpa asperiores provident.'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Fase de Genealogía'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto03.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo minima ipsum enim consequuntur aliquid atque tenetur officia, illo sequi assumenda nihil, doloremque quam, ut tempora! Adipisci recusandae quidem iste repudiandae!'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Memorándum Administrativo'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto04.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem, ipsum dolor sit amet consectetur adipisicing elit. Voluptatum nobis beatae dicta sit quisquam ipsum ea alias totam quod dolorum earum eius minus distinctio, sequi debitis esse iste. Doloribus, vel!'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Nacionalidad Italiana'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto05.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Unde tenetur, laborum facilis nisi iure ipsam inventore error minus sed vel praesentium, ad sint id. Reprehenderit voluptates repellat iste facilis nobis?'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Nacionalidad Portuguesa'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto06.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus soluta voluptatum est. Ut provident, nihil velit nulla, alias ex modi illum veritatis similique, dolorum tempore expedita quidem iste excepturi corrupti.'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Recurso de Alzada'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto07.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor, sit amet consectetur adipisicing elit. A repudiandae, ea ipsam expedita minus fugiat omnis voluptates, vitae cupiditate voluptatibus quis eius itaque unde pariatur. Reprehenderit atque facere vero sed?'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Resolución Expresa'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto08.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex quae impedit nesciunt veniam, aliquid dolorem ad sed id illo? Vitae voluptatibus, recusandae molestiae ex rerum nulla esse eos eveniet dolores?'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Servicio de Residencias'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto09.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio at exercitationem blanditiis odit quam hic eaque aut facere rerum eius. Facere ex nemo modi. Animi corrupti molestias cupiditate in doloremque.'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]);

        Article::create([
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'Subsanación de Expediente'</span>,
            <span class="hljs-string">'image'</span> =&gt; <span class="hljs-string">'products/producto10.png'</span>,
            <span class="hljs-string">'extract'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
            <span class="hljs-string">'body'</span> =&gt; <span class="hljs-string">'Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet quibusdam provident voluptatibus similique dicta dolor illum quidem minima quaerat totam omnis laudantium, officiis nostrum ipsa autem eius dolorem vero modi?'</span>,
        ]); 
    }
}
</code></pre>
</li>
<li class="has-line-data" data-line-start="3123" data-line-end="3124">Subir las imagenes de productos y artículos de manera manual a Heroku.</li>
<li class="has-line-data" data-line-start="3124" data-line-end="3126">Ejecutar:
<ul>
<li class="has-line-data" data-line-start="3125" data-line-end="3126">$ npm run dev</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3126" data-line-end="3130">Commit:
<ul>
<li class="has-line-data" data-line-start="3127" data-line-end="3128">$ git add .</li>
<li class="has-line-data" data-line-start="3128" data-line-end="3129">$ git commit -m “Personalización del proyecto”</li>
<li class="has-line-data" data-line-start="3129" data-line-end="3130">$ git push -u origin main</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3130" data-line-end="3139">Actualizar base de datos en Heroku:
<ul>
<li class="has-line-data" data-line-start="3131" data-line-end="3132">$ heroku login</li>
<li class="has-line-data" data-line-start="3132" data-line-end="3133">$ heroku git:remote -a paymet</li>
<li class="has-line-data" data-line-start="3133" data-line-end="3134">$ heroku config:add FILESYSTEM_DRIVER=local</li>
<li class="has-line-data" data-line-start="3134" data-line-end="3135">$ heroku run bash</li>
<li class="has-line-data" data-line-start="3135" data-line-end="3136">$ composer update</li>
<li class="has-line-data" data-line-start="3136" data-line-end="3137">$ php artisan migrate:fresh --seed</li>
<li class="has-line-data" data-line-start="3137" data-line-end="3139">$ php artisan db:seed</li>
</ul>
</li>
</ol>
<h2 class="code-line" data-line-start=3139 data-line-end=3140><a id="Material_de_inters_3139"></a>Material de interés</h2>
<h2 class="code-line" data-line-start=3141 data-line-end=3142><a id="Colores_Sefar_3141"></a>Colores Sefar:</h2>
<ul>
<li class="has-line-data" data-line-start="3142" data-line-end="3143">Rojo: R:121 G:22 B:15</li>
<li class="has-line-data" data-line-start="3143" data-line-end="3144">Verde: R:22 G:43 B:27</li>
<li class="has-line-data" data-line-start="3144" data-line-end="3145">Amarillo: R:247 G:176 B:52</li>
<li class="has-line-data" data-line-start="3145" data-line-end="3147">Gris: R:63 G:61 B:61</li>
</ul>
<h3 class="code-line" data-line-start=3147 data-line-end=3148><a id="Repositorios_de_interes_3147"></a>Repositorios de interes:</h3>
<ul>
<li class="has-line-data" data-line-start="3148" data-line-end="3149"><a href="https://github.com/coders-free/payment">https://github.com/coders-free/payment</a></li>
<li class="has-line-data" data-line-start="3149" data-line-end="3151"><a href="https://github.com/petrix12/pasarela_pago.git">https://github.com/petrix12/pasarela_pago.git</a></li>
</ul>
<h3 class="code-line" data-line-start=3151 data-line-end=3152><a id="Para_solventar_problemas_con_tailwindcss_3151"></a>Para solventar problemas con tailwindcss:</h3>
<ul>
<li class="has-line-data" data-line-start="3152" data-line-end="3153">$ npm install -D <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a5d1c4ccc9d2cccbc1c6d6d6e5c9c4d1c0d6d1">[email&#160;protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6c6d9c5c2d5c5c5f6dad7c2d3c5c2">[email&#160;protected]</a> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="80e1f5f4eff0f2e5e6e9f8e5f2c0ece1f4e5f3f4">[email&#160;protected]</a></li>
<li class="has-line-data" data-line-start="3153" data-line-end="3155">$ npm run dev</li>
</ul>
<h3 class="code-line" data-line-start=3155 data-line-end=3156><a id="Para_limpiar_configuracin_y_reestablecer_el_cache_3155"></a>Para limpiar configuración y reestablecer el cache:</h3>
<ul>
<li class="has-line-data" data-line-start="3156" data-line-end="3157">$ php artisan config:clear</li>
<li class="has-line-data" data-line-start="3157" data-line-end="3159">$ php artisan config:cache</li>
</ul>
<h3 class="code-line" data-line-start=3159 data-line-end=3160><a id="En_caso_de_no_permitir_compilar_algo_3159"></a>En caso de no permitir compilar algo:</h3>
<ul>
<li class="has-line-data" data-line-start="3160" data-line-end="3161">$ php artisan clear-compiled</li>
<li class="has-line-data" data-line-start="3161" data-line-end="3163">$ composer dumpautoload</li>
</ul>
<h3 class="code-line" data-line-start=3163 data-line-end=3164><a id="Para_correr_seeders_en_Heroku_3163"></a>Para correr seeders en Heroku</h3>
<ul>
<li class="has-line-data" data-line-start="3164" data-line-end="3165">$ heroku run bash</li>
<li class="has-line-data" data-line-start="3165" data-line-end="3166">$ composer update</li>
<li class="has-line-data" data-line-start="3166" data-line-end="3168">$ php artisan db:seed</li>
</ul>
<h2 class="code-line" data-line-start=3168 data-line-end=3169><a id="Deploy_del_proyecto_en_Heroku_3168"></a>Deploy del proyecto en Heroku</h2>
<ol>
<li class="has-line-data" data-line-start="3169" data-line-end="3173">Crear en la raíz del proyecto el archivo <strong>Procfile</strong> (sin extensión) para elegir un servidor apache en Heroku y también indicarle la ubicación del archivo incial index.php:<pre><code class="has-line-data" data-line-start="3171" data-line-end="3173">web: vendor/bin/heroku-php-apache2 public/
</code></pre>
</li>
<li class="has-line-data" data-line-start="3173" data-line-end="3174">Ingresar a <a href="https://dashboard.heroku.com/apps">Heroku</a> e ir a <strong>Dashboard</strong>.</li>
<li class="has-line-data" data-line-start="3174" data-line-end="3176">Crear un nuevo proyecto en <strong>New &gt; Create new app</strong>
<ul>
<li class="has-line-data" data-line-start="3175" data-line-end="3176">Nombre: paymet</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3176" data-line-end="3177">Ir a Deploy y dar clic en GitHub.</li>
<li class="has-line-data" data-line-start="3177" data-line-end="3178">Clic en el botón Connect to GitHub e ingresar las credenciales.</li>
<li class="has-line-data" data-line-start="3178" data-line-end="3179">Seleccionar el repositorio <strong>pasarela_pago</strong> y presionar el botón <strong>Connect</strong>.</li>
<li class="has-line-data" data-line-start="3179" data-line-end="3180">Para tener siempre la ultima actualización de nuestro proyecto se recomienda presionar el botón <strong>Enable Automatic Deploys</strong>.</li>
<li class="has-line-data" data-line-start="3180" data-line-end="3181">Presionar el botón Deploy Branch.</li>
<li class="has-line-data" data-line-start="3181" data-line-end="3182">Descargar e instalar <a href="https://devcenter.heroku.com/articles/heroku-cli">Heroku CLI</a>.</li>
<li class="has-line-data" data-line-start="3182" data-line-end="3184">En la terminal en la raíz del proyecto en local e iniciar sesión en Heroku:
<ul>
<li class="has-line-data" data-line-start="3183" data-line-end="3184">$ heroku login</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3184" data-line-end="3188">Víncular con la aplicación de Heroku <strong>paymet</strong>:
<ul>
<li class="has-line-data" data-line-start="3185" data-line-end="3187">$ git remote add heroku <a href="https://git.heroku.com/paymet.git">git.heroku.com/paymet.git</a>
<ul>
<li class="has-line-data" data-line-start="3186" data-line-end="3187">(git remote set-url Origin <a href="https://git.heroku.com/paymet.git">git.heroku.com/paymet.git</a>)</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3187" data-line-end="3188">$ heroku git:remote -a paymet</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3188" data-line-end="3195">Registrar variables de entorno de la aplicación desde la terminal:
<ul>
<li class="has-line-data" data-line-start="3189" data-line-end="3190">$ heroku config:add APP_NAME=PayMet</li>
<li class="has-line-data" data-line-start="3190" data-line-end="3191">$ heroku config:add APP_ENV=production</li>
<li class="has-line-data" data-line-start="3191" data-line-end="3192">$ heroku config:add APP_KEY=base64:gUVmds1U2u5m126RsiswRYif8dydHe31tUf143J2X58=</li>
<li class="has-line-data" data-line-start="3192" data-line-end="3193">$ heroku config:add APP_DEBUG=false</li>
<li class="has-line-data" data-line-start="3193" data-line-end="3194">$ heroku config:add APP_URL=https://paymet.herokuapp.com</li>
<li class="has-line-data" data-line-start="3194" data-line-end="3195">$ heroku config:add FILESYSTEM_DRIVER=public</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3195" data-line-end="3206">Crear base de datos Postgre SQL desde la terminal:
<ul>
<li class="has-line-data" data-line-start="3196" data-line-end="3197">$ heroku addons:create heroku-postgresql:hobby-dev</li>
<li class="has-line-data" data-line-start="3197" data-line-end="3198">$ heroku pg:credentials:url</li>
<li class="has-line-data" data-line-start="3198" data-line-end="3199"><strong>Nota</strong>: la salida de la última línea de comando nos servirá para configurar las variables de entorno de la base de datos:</li>
</ul>
<pre><code class="has-line-data" data-line-start="3200" data-line-end="3206">Connection information for default credential.
Connection info string:
&quot;dbname=*** host=*** port=*** user=*** password=*** sslmode=require&quot;
Connection URL:
postgres://mmtmzssdyxkfyt:9<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9daeaeabafabaef8aaada9ffadabf9adfcacfffcaafea4aaa4fea9afabf8aaf9a5f8ffaaaafbaea4a8a5f8a9acaca9fef8fca4fcafaca4aaaefffcada5f9a5a9dd">[email&#160;protected]</a>ec2-35-168-145-180.compute-1.amazonaws.com:5432/dbhkpp3vfen6vd
</code></pre>
</li>
<li class="has-line-data" data-line-start="3206" data-line-end="3213">Registrar variables de entorno de la base de datos desde la terminal:
<ul>
<li class="has-line-data" data-line-start="3207" data-line-end="3208">$ heroku config:add DB_CONNECTION=pgsql</li>
<li class="has-line-data" data-line-start="3208" data-line-end="3209">$ heroku config:add DB_HOST=<a href="http://ec2-18-235-4-83.compute-1.amazonaws.com">ec2-18-235-4-83.compute-1.amazonaws.com</a></li>
<li class="has-line-data" data-line-start="3209" data-line-end="3210">$ heroku config:add DB_PORT=5432</li>
<li class="has-line-data" data-line-start="3210" data-line-end="3211">$ heroku config:add DB_DATABASE=db6unq9m90dvkv</li>
<li class="has-line-data" data-line-start="3211" data-line-end="3212">$ heroku config:add DB_USERNAME=vcsyvufmsdpbhn</li>
<li class="has-line-data" data-line-start="3212" data-line-end="3213">$ heroku config:add DB_PASSWORD=******</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3213" data-line-end="3218">Ejecutar migraciones:
<ul>
<li class="has-line-data" data-line-start="3214" data-line-end="3215">$ heroku run bash</li>
<li class="has-line-data" data-line-start="3215" data-line-end="3217">~ $ php artisan migrate --seed
<ul>
<li class="has-line-data" data-line-start="3216" data-line-end="3217">Do you really wish to run this command? (yes/no) [no]: <strong>yes</strong></li>
</ul>
</li>
<li class="has-line-data" data-line-start="3217" data-line-end="3218">~ $ exit</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3218" data-line-end="3220">Salir de Heroku:
<ul>
<li class="has-line-data" data-line-start="3219" data-line-end="3220">$ heroku logout</li>
</ul>
</li>
<li class="has-line-data" data-line-start="3220" data-line-end="3222">Desconectar con repositorio Heroku:
<ul>
<li class="has-line-data" data-line-start="3221" data-line-end="3222">$ git remote rm heroku</li>
</ul>
</li>
</ol>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body></html>